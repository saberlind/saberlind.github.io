(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{538:function(_,v,t){"use strict";t.r(v);var a=t(4),s=Object(a.a)({},(function(){var _=this,v=_.$createElement,t=_._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("h2",{attrs:{id:"_1-用户画像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-用户画像"}},[_._v("#")]),_._v(" 1. 用户画像")]),_._v(" "),t("h3",{attrs:{id:"_1-1-画像系统主要做了哪些事"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-画像系统主要做了哪些事"}},[_._v("#")]),_._v(" 1.1 画像系统主要做了哪些事")]),_._v(" "),t("p",[_._v("1）用户信息标签化")]),_._v(" "),t("p",[_._v("2）对标签化的数据的应用（分群、洞察分析）")]),_._v(" "),t("p",[_._v("3）标签如何建模的，有哪些标签")]),_._v(" "),t("p",[_._v("​\t根据用户需求，协调产品经理一起规划了四级标签。前两级是分类，第三级是标签，第四级是标签值。")]),_._v(" "),t("h3",{attrs:{id:"_1-2-项目整体架构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-项目整体架构"}},[_._v("#")]),_._v(" 1.2 项目整体架构")]),_._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/bd_pro%2Fuser_struct.png",alt:""}})]),_._v(" "),t("h3",{attrs:{id:"_1-3-标签计算的调度过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-标签计算的调度过程"}},[_._v("#")]),_._v(" 1.3 标签计算的调度过程")]),_._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/bd_pro%2Fdiaodu.png",alt:""}})]),_._v(" "),t("h3",{attrs:{id:"_1-4-标签的批处理过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-标签的批处理过程"}},[_._v("#")]),_._v(" 1.4 标签的批处理过程")]),_._v(" "),t("p",[_._v("四个任务：")]),_._v(" "),t("p",[_._v("（1）通过根据每个标签的业务逻辑编写SQL，生产标签单表。")]),_._v(" "),t("p",[_._v("（2）把标签单表合并为标签宽表。")]),_._v(" "),t("p",[_._v("（3）把标签宽表导出到Clickhouse中的标签宽表。")]),_._v(" "),t("p",[_._v("（4）把Clickhouse中的标签表转储为Bitmap表。")]),_._v(" "),t("p",[_._v("​\t四个任务通过编写Spark程序完成。并通过画像平台调度，以后新增标签只需要在平台填写标签定义、SQL及相关参数即可。")]),_._v(" "),t("p",[_._v("待补充。。。")]),_._v(" "),t("h2",{attrs:{id:"_2-数据湖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-数据湖"}},[_._v("#")]),_._v(" 2. 数据湖")]),_._v(" "),t("h2",{attrs:{id:"_3-数据治理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-数据治理"}},[_._v("#")]),_._v(" 3. 数据治理")]),_._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/bd_pro%2Fshuju_zhili.png",alt:""}})]),_._v(" "),t("h3",{attrs:{id:"_3-1-元数据管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-元数据管理"}},[_._v("#")]),_._v(" 3.1 元数据管理")]),_._v(" "),t("p",[_._v("元数据管理目前开源的框架中，Atlas框架使用的较多。再就是采用自研的系统。")]),_._v(" "),t("p",[_._v("1）元数据管理底层实现原理")]),_._v(" "),t("p",[_._v("解析如下HQL，获取对应的原数据表和目标表直接的依赖关系。")]),_._v(" "),t("p",[_._v("insert into table ads_user")]),_._v(" "),t("p",[_._v("select id, name from dws_user")]),_._v(" "),t("p",[_._v("依赖关系能够做到：表级别和字段级别 neo4j")]),_._v(" "),t("p",[_._v("2）用处：作业执行失败，评估他的影响范围。主要用于表比较多的公司")]),_._v(" "),t("p",[_._v("atlas版本问题：")]),_._v(" "),t("p",[_._v("0.84版本：2019-06-21")]),_._v(" "),t("p",[_._v("2.0版本：2019-05-13")]),_._v(" "),t("p",[_._v("框架版本：")]),_._v(" "),t("p",[_._v("Apache   0.84    2.0  2.1")]),_._v(" "),t("p",[_._v("CDH  2.0")]),_._v(" "),t("h3",{attrs:{id:"_3-2-数据质量监控"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-数据质量监控"}},[_._v("#")]),_._v(" 3.2 数据质量监控")]),_._v(" "),t("h4",{attrs:{id:"实现数据质量监控-你具体怎么做-详细说"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实现数据质量监控-你具体怎么做-详细说"}},[_._v("#")]),_._v(" 实现数据质量监控，你具体怎么做，详细说？")]),_._v(" "),t("p",[_._v("实现数据质量检测的功能，我们需要首先明确数据质量的维度，例如准确性、完整性、唯一性、及时性和一致性。")]),_._v(" "),t("p",[_._v("1）确定数据源")]),_._v(" "),t("p",[_._v("确定需要进行数据质量检测的数据源。这可能是数据库表、文件、API等。")]),_._v(" "),t("p",[_._v("2）定义质量规则")]),_._v(" "),t("p",[_._v("为每个数据质量维度定义具体的规则。例如：")]),_._v(" "),t("p",[_._v("–准确性：检查数据是否符合预期的范围或分布。")]),_._v(" "),t("p",[_._v("–完整性：检查数据是否存在缺失值或空值。")]),_._v(" "),t("p",[_._v("–唯一性：检查数据中是否存在重复项。")]),_._v(" "),t("p",[_._v("–及时性：检查数据是否在预期的时间范围内更新。")]),_._v(" "),t("p",[_._v("–一致性：检查数据是否符合预定义的格式或标准。")]),_._v(" "),t("p",[_._v("3）实现检测功能")]),_._v(" "),t("p",[_._v("使用编程语言（如SQL）编写检测数据质量的函数。这些函数可以包括：")]),_._v(" "),t("p",[_._v("–数据导入：从数据源导入数据。")]),_._v(" "),t("p",[_._v("–数据清理：对数据进行预处理，如去除空格、转换数据类型等。")]),_._v(" "),t("p",[_._v("–应用质量规则：根据定义的质量规则，实现相应的检测函数。例如，检查缺失值、重复项或数据范围等。")]),_._v(" "),t("p",[_._v("–输出报告：生成数据质量报告，如将检测结果汇总成表格或可视化图表。")]),_._v(" "),t("p",[_._v("4）自动化和监控")]),_._v(" "),t("p",[_._v("​\t将数据质量检测功能集成到数据管道或ETL过程中，以实现自动化检测。此外，可以设置监控和警报机制，以便在检测到数据质量问题时及时通知相关人员。")]),_._v(" "),t("h4",{attrs:{id:"监控原则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#监控原则"}},[_._v("#")]),_._v(" 监控原则")]),_._v(" "),t("p",[_._v("1）单表数据量监控")]),_._v(" "),t("p",[_._v("​\t一张表的记录数在一个已知的范围内，或者上下浮动不会超过某个阈值")]),_._v(" "),t("ul",[t("li",[t("p",[_._v("SQL结果：var 数据量 = select count（*）from 表 where 时间等过滤条件")])]),_._v(" "),t("li",[t("p",[_._v("报警触发条件设置：如果数据量不在[数值下限, 数值上限]， 则触发报警")])]),_._v(" "),t("li",[t("p",[_._v("同比增加：如果((本周的数据量 - 上周的数据量)/上周的数据量*100)不在 [比例下线，比例上限]，则触发报警")])]),_._v(" "),t("li",[t("p",[_._v("环比增加：如果((今天的数据量 - 昨天的数据量)/昨天的数据量*100)不在 [比例下线，比例上限]，则触发报警")])]),_._v(" "),t("li",[t("p",[_._v("报警触发条件设置一定要有。如果没有配置的阈值，不能做监控")]),_._v(" "),t("p",[_._v("日活、周活、月活、留存（日周月）、转化率（日、周、月）GMV（日、周、月）复购率（日周月）  30%")])])]),_._v(" "),t("p",[_._v("2）单表空值检测")]),_._v(" "),t("p",[_._v("某个字段为空的记录数在一个范围内，或者占总量的百分比在某个阈值范围内")]),_._v(" "),t("ul",[t("li",[t("p",[_._v("目标字段：选择要监控的字段，不能选“无”")])]),_._v(" "),t("li",[t("p",[_._v("SQL结果：var 异常数据量 = select count(*) from 表 where 目标字段 is null")])]),_._v(" "),t("li",[t("p",[_._v("单次检测：如果（异常数据量）不在[数值下限, 数值上限]，则触发报警")])])]),_._v(" "),t("p",[_._v("3）单表重复值检测")]),_._v(" "),t("p",[_._v("​\t一个或多个字段是否满足某些规则")]),_._v(" "),t("ul",[t("li",[t("p",[_._v("目标字段：第一步先正常统计条数；select count(*) form 表；")])]),_._v(" "),t("li",[t("p",[_._v("第二步，去重统计；select count(*) from 表 group by 某个字段")])]),_._v(" "),t("li",[t("p",[_._v("第一步的值和第二步不的值做减法，看是否在上下线阀值之内")])]),_._v(" "),t("li",[t("p",[_._v("单次检测：如果（异常数据量）不在[数值下限, 数值上限]， 则触发报警")])])]),_._v(" "),t("p",[_._v("4）单表值域检测")]),_._v(" "),t("p",[_._v("​\t一个或多个字段没有重复记录")]),_._v(" "),t("ul",[t("li",[t("p",[_._v("目标字段：选择要监控的字段，支持多选")])]),_._v(" "),t("li",[t("p",[_._v("检测规则：填写“目标字段”要满足的条件。其中$1表示第一个目标字段，$2表示第二个目标字段，以此类推。上图中的“检测规则”经过渲染后变为“delivery_fee = delivery_fee_base+delivery_fee_extra”")])])]),_._v(" "),t("p",[_._v("阈值配置与“空值检测”相同")]),_._v(" "),t("p",[_._v("5）跨表数据量对比")]),_._v(" "),t("p",[_._v("​\t主要针对同步流程，监控两张表的数据量是否一致")]),_._v(" "),t("ul",[t("li",[t("p",[_._v("SQL结果：count（本表） - count（关联表）")])]),_._v(" "),t("li",[t("p",[_._v("阈值配置与“空值检测”相同")])])]),_._v(" "),t("h2",{attrs:{id:"_4-中台"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-中台"}},[_._v("#")]),_._v(" 4. 中台")])])}),[],!1,null,null,null);v.default=s.exports}}]);