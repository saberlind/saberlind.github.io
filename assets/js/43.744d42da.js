(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{566:function(a,s,t){"use strict";t.r(s);var e=t(4),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"_1-zabbix入门"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-zabbix入门"}},[a._v("#")]),a._v(" 1. Zabbix入门")]),a._v(" "),t("h3",{attrs:{id:"_1-1-zabbix概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-zabbix概述"}},[a._v("#")]),a._v(" 1.1 Zabbix概述")]),a._v(" "),t("blockquote",[t("p",[a._v("​\tZabbix是一款能够监控各种网络参数以及服务器健康性和完整性的软件。Zabbix使用灵活的通知机制，允许用户为几乎任何事件配置基于邮件的告警。这样可以快速反馈服务器的问题。基于已存储的数据，Zabbix提供了出色的报告和数据可视化功能。")]),a._v(" "),t("p",[a._v("日志：/var/log/zabbix/zabbix_agentd.log")])]),a._v(" "),t("h3",{attrs:{id:"_1-2-zabbix-基础架构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-zabbix-基础架构"}},[a._v("#")]),a._v(" 1.2 Zabbix 基础架构")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/zabbix%2Fzabbix_frwk.png",alt:""}})]),a._v(" "),t("h2",{attrs:{id:"_2-zabbix-部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-zabbix-部署"}},[a._v("#")]),a._v(" 2. Zabbix 部署")]),a._v(" "),t("h3",{attrs:{id:"_2-2-准备工作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-准备工作"}},[a._v("#")]),a._v(" 2.2 准备工作")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("cluster.sh stop\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("[ALL]")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl stop firewalld\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl disable firewalld\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[a._v("[102]")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/selinux/config\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("SELINUX=disabled")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("reboot")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-3-配置zabbix-yum源-all"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-配置zabbix-yum源-all"}},[a._v("#")]),a._v(" 2.3 配置Zabbix yum源(ALL)")]),a._v(" "),t("h4",{attrs:{id:"_2-3-1-安装yum仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-安装yum仓库"}},[a._v("#")]),a._v(" 2.3.1 安装yum仓库")]),a._v(" "),t("p",[a._v("安装zabbix的yum仓库")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" -Uvh https://mirrors.aliyun.com/zabbix/zabbix/5.0/rhel/7/x86_64/zabbix-release-5.0-1.el7.noarch.rpm\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("安装Software Collections仓库>仓库")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y centos-release-scl\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h4",{attrs:{id:"_2-3-2-修改zabbix仓库配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-修改zabbix仓库配置文件"}},[a._v("#")]),a._v(" 2.3.2 修改zabbix仓库配置文件")]),a._v(" "),t("p",[a._v("修改为阿里云镜像")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /etc/yum.repos.d/zabbix.repo\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("执行以下命令完成全局替换")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" -i "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'s/http:\\/\\/repo.zabbix.com/https:\\/\\/mirrors.aliyun.com\\/zabbix/g'")]),a._v(" /etc/yum.repos.d/zabbix.repo\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("打开/etc/yum.repos.d/zabbix.repo文件，做如下修改")]),a._v(" "),t("div",{staticClass:"language-conf line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("[zabbix-frontend]\nname=Zabbix Official Repository frontend - $basearch\nbaseurl=https://mirrors.aliyun.com/zabbix/zabbix/5.0/rhel/7/$basearch/frontend\nenabled=1  -- 修改为 1\ngpgcheck=1\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-ZABBIX-A14FE591\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("h3",{attrs:{id:"_2-4-安装zabbix"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-安装zabbix"}},[a._v("#")]),a._v(" 2.4 安装Zabbix")]),a._v(" "),t("p",[a._v("102")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y zabbix-server-mysql zabbix-agent zabbix-web-mysql-scl zabbix-apache-conf-scl\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("103/104")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y zabbix-agent\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-5-配置zabbix"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-配置zabbix"}},[a._v("#")]),a._v(" 2.5 配置Zabbix")]),a._v(" "),t("p",[a._v("创建zabbix数据库")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("mysql -uroot -p123456 -e"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"create database zabbix character set utf8 collate utf8_bin"')]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("导入Zabbix建表语句")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("zcat /usr/share/doc/zabbix-server-mysql-5.0.14/create.sql.gz "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" mysql -uroot -p123456 zabbix\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("配置Zabbix_Server(102)")]),a._v(" "),t("p",[a._v("修改zabbix-server配置文件")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/zabbix/zabbix_server.conf\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("div",{staticClass:"language-conf line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("DBHost=hadoop102\nDBName=zabbix\nDBUser=root\nDBPassword=123456\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("p",[a._v("配置Zabbix_Agent(ALL)")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/zabbix/zabbix_agentd.conf\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("div",{staticClass:"language-conf line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("Server=hadoop102\n#ServerActive=127.0.0.1\n#Hostname=Zabbix server\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("p",[a._v("配置Zabbix_Web时区")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/opt/rh/rh-php72/php-fpm.d/zabbix.conf\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("div",{staticClass:"language-conf line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("php_value[date.timezone] = Asia/Shanghai\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-6-启动停止zabbix"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-启动停止zabbix"}},[a._v("#")]),a._v(" 2.6 启动停止Zabbix")]),a._v(" "),t("p",[a._v("启动")]),a._v(" "),t("p",[a._v("102")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl start zabbix-server zabbix-agent httpd rh-php72-php-fpm\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" zabbix-server zabbix-agent httpd rh-php72-php-fpm\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[a._v("103/104")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl start zabbix-agent\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" zabbix-agent\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[a._v("停止")]),a._v(" "),t("p",[a._v("102")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl stop zabbix-server zabbix-agent httpd rh-php72-php-fpm\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl disable zabbix-server zabbix-agent httpd rh-php72-php-fpm\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[a._v("103/104")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl stop zabbix-agent\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl disable zabbix-agent\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[a._v("连接Zabbix_Web数据库")]),a._v(" "),t("p",[a._v("http://hadoop102/zabbix/")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/zabbix%2Fzabbix_conf.png",alt:""}})]),a._v(" "),t("p",[a._v("用户名：Admin     密码：zabbix")]),a._v(" "),t("h2",{attrs:{id:"_3-zabbix使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-zabbix使用"}},[a._v("#")]),a._v(" 3. Zabbix使用")]),a._v(" "),t("ul",[t("li",[a._v("主机（Host）：一台你想监控的服务器，用IP或域名表示。")]),a._v(" "),t("li",[a._v("监控项（Item）：你想要接收的主机的特定数据，一个度量数据。")]),a._v(" "),t("li",[a._v("触发器（Trigger）：一个被用于定义问题阈值和“评估”监控项接收到的数据的逻辑表达式。")]),a._v(" "),t("li",[a._v("动作（Action）：一个对事件做出反应的预定义的操作，比如邮件通知。")])]),a._v(" "),t("h3",{attrs:{id:"_3-1-zabbix-实战"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-zabbix-实战"}},[a._v("#")]),a._v(" 3.1 Zabbix 实战")]),a._v(" "),t("h4",{attrs:{id:"_3-2-1-创建主机-host"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-创建主机-host"}},[a._v("#")]),a._v(" 3.2.1 创建主机（Host）")]),a._v(" "),t("p",[a._v("点击配置/主机/创建主机")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/zabbix%2Fzabbix_host.png",alt:""}})]),a._v(" "),t("h4",{attrs:{id:"_3-2-2-创建监控项-items"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-2-创建监控项-items"}},[a._v("#")]),a._v(" 3.2.2 创建监控项（Items）")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/zabbix%2Fzabbix_items.png",alt:""}})]),a._v(" "),t("p",[a._v("点击创建监控项（Create Item）")]),a._v(" "),t("p",[a._v("配置监控项（Item）")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/zabbix%2Fzabbix_items_conf.png",alt:""}})]),a._v(" "),t("p",[a._v("查看监控项最新数据")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/zabbix%2Fzabbix_items_data.png",alt:""}})]),a._v(" "),t("h4",{attrs:{id:"_3-2-3-创建触发器-trigger"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-3-创建触发器-trigger"}},[a._v("#")]),a._v(" 3.2.3 创建触发器（Trigger）")]),a._v(" "),t("p",[a._v("点击配置/主机/触发器")]),a._v(" "),t("p",[a._v("点击创建触发器")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/zabbix%2Fzabbix_trigger.png",alt:""}})]),a._v(" "),t("h4",{attrs:{id:"_3-2-4-创建动作-action"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-4-创建动作-action"}},[a._v("#")]),a._v(" 3.2.4 创建动作（Action）")]),a._v(" "),t("p",[a._v("点击配置/动作/创建动作")]),a._v(" "),t("p",[a._v("编辑动作（Action）")]),a._v(" "),t("p",[a._v("添加条件")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/zabbix%2Fzabbix_trigger_choose.png",alt:""}})]),a._v(" "),t("p",[a._v("添加操作")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/zabbix%2Fzabbix_trigger_addpro.png",alt:""}})]),a._v(" "),t("h4",{attrs:{id:"_3-2-5-创建报警媒介类型-media-type"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-5-创建报警媒介类型-media-type"}},[a._v("#")]),a._v(" 3.2.5 创建报警媒介类型（Media Type）")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/zabbix%2Fmedia_type.png",alt:""}})]),a._v(" "),t("p",[a._v("Email绑定收件人")]),a._v(" "),t("p",[a._v("点击 User settings")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/zabbix%2Femail_user.png",alt:""}})]),a._v(" "),t("h3",{attrs:{id:"_3-2-创建模板"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-创建模板"}},[a._v("#")]),a._v(" 3.2 创建模板")]),a._v(" "),t("p",[a._v("点击配置/模板/创建模板")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/zabbix%2Ftemplete_name.png",alt:""}})]),a._v(" "),t("p",[a._v("配置监控项")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/zabbix%2Fmonitor_items.png",alt:""}})]),a._v(" "),t("p",[a._v("配置触发器")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/zabbix%2Ftmp_moni_trigger2.png",alt:""}})]),a._v(" "),t("p",[a._v("配置动作")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/zabbix%2Ftmp_config_action.png",alt:""}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/zabbix%2Ftmp_config_action2.png",alt:""}})]),a._v(" "),t("p",[a._v("应用模板")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/zabbix%2Fuse_tmp.png",alt:""}})]),a._v(" "),t("h2",{attrs:{id:"_4-集成grafana"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-集成grafana"}},[a._v("#")]),a._v(" 4. 集成Grafana")]),a._v(" "),t("p",[a._v("1.下载Grafana安装包\n官方仓库：https://dl.grafana.com/oss/release/grafana-7.4.3-1.x86_64.rpm\n国内镜像：https://repo.huaweicloud.com/grafana/7.4.3/grafana-7.4.3-1.x86_64.rpm")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" -ivh grafana-7.4.3-1.x86_64.rpm\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("启动")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl start grafana-server\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("http://hadoop102:3000/")]),a._v(" "),t("p",[a._v("admin,admin")]),a._v(" "),t("h3",{attrs:{id:"_4-1-集成-zabbix"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-集成-zabbix"}},[a._v("#")]),a._v(" 4.1 集成 Zabbix")]),a._v(" "),t("p",[a._v("安装插件")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" grafana-cli plugins "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" alexanderzobnin-zabbix-app\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("重启")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl restart grafana-server\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("启用插件")]),a._v(" "),t("p",[a._v("点击设置/plugins")]),a._v(" "),t("p",[a._v("搜索 Zabbix； Enable")]),a._v(" "),t("p",[a._v("点击设置/Data Sources / Add data source")]),a._v(" "),t("p",[a._v("配置数据源")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/zabbix%2Fdatasources_conf.png",alt:""}})]),a._v(" "),t("p",[a._v("Save & Test")]),a._v(" "),t("p",[a._v("在Zabbix中为hadoop102主机应用一个Zabbix内置的Linux系统监控模板。")]),a._v(" "),t("p",[a._v("找到hadoop102主机")]),a._v(" "),t("p",[a._v("点击模板，搜索linux，并选择Template OS Linux by Zabbix agent")]),a._v(" "),t("p",[a._v("点击Dashboards，找到前边创建的Test看板")]),a._v(" "),t("p",[a._v("新建panel")]),a._v(" "),t("p",[a._v("选择Zabbix数据源；并配置监控项")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/zabbix%2Fzabbix_data_conf.png",alt:""}})])])}),[],!1,null,null,null);s.default=n.exports}}]);