<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Scala | Awaken&#39;s blogs</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/wtw.jpg">
    <meta name="description" content="Awaken's blogs">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.dfeb017d.css" as="style"><link rel="preload" href="/assets/js/app.03646987.js" as="script"><link rel="preload" href="/assets/js/3.a8134f0a.js" as="script"><link rel="preload" href="/assets/js/1.a394b090.js" as="script"><link rel="preload" href="/assets/js/41.3f331b95.js" as="script"><link rel="prefetch" href="/assets/js/10.0aed174e.js"><link rel="prefetch" href="/assets/js/100.02914097.js"><link rel="prefetch" href="/assets/js/101.95f6c81a.js"><link rel="prefetch" href="/assets/js/102.48df0133.js"><link rel="prefetch" href="/assets/js/103.200f5642.js"><link rel="prefetch" href="/assets/js/104.080c910a.js"><link rel="prefetch" href="/assets/js/105.943605b5.js"><link rel="prefetch" href="/assets/js/106.55d2b7c0.js"><link rel="prefetch" href="/assets/js/107.dbf3105f.js"><link rel="prefetch" href="/assets/js/108.3a747b28.js"><link rel="prefetch" href="/assets/js/109.e9453b81.js"><link rel="prefetch" href="/assets/js/11.38bfbf06.js"><link rel="prefetch" href="/assets/js/110.15ce5269.js"><link rel="prefetch" href="/assets/js/111.e2a2b309.js"><link rel="prefetch" href="/assets/js/112.83e22ec5.js"><link rel="prefetch" href="/assets/js/113.4c53e21e.js"><link rel="prefetch" href="/assets/js/114.3fdb14e5.js"><link rel="prefetch" href="/assets/js/115.24fd8b47.js"><link rel="prefetch" href="/assets/js/116.fa4af7d3.js"><link rel="prefetch" href="/assets/js/117.c5bc84c0.js"><link rel="prefetch" href="/assets/js/118.6ad3d598.js"><link rel="prefetch" href="/assets/js/119.fd9eb4ba.js"><link rel="prefetch" href="/assets/js/12.088628ed.js"><link rel="prefetch" href="/assets/js/120.36824fa8.js"><link rel="prefetch" href="/assets/js/121.6edd4478.js"><link rel="prefetch" href="/assets/js/122.228b556b.js"><link rel="prefetch" href="/assets/js/123.a51f4b7b.js"><link rel="prefetch" href="/assets/js/124.32fa9997.js"><link rel="prefetch" href="/assets/js/125.29138718.js"><link rel="prefetch" href="/assets/js/126.bfeae404.js"><link rel="prefetch" href="/assets/js/127.bbe78f94.js"><link rel="prefetch" href="/assets/js/128.6a9fd1ab.js"><link rel="prefetch" href="/assets/js/129.a26030ce.js"><link rel="prefetch" href="/assets/js/13.50987128.js"><link rel="prefetch" href="/assets/js/130.5a29c5e3.js"><link rel="prefetch" href="/assets/js/131.83dd6a40.js"><link rel="prefetch" href="/assets/js/132.31961e3b.js"><link rel="prefetch" href="/assets/js/133.12379872.js"><link rel="prefetch" href="/assets/js/134.2f630670.js"><link rel="prefetch" href="/assets/js/135.516248e9.js"><link rel="prefetch" href="/assets/js/136.c9fb3676.js"><link rel="prefetch" href="/assets/js/137.0d58b935.js"><link rel="prefetch" href="/assets/js/138.106b8051.js"><link rel="prefetch" href="/assets/js/139.3a4177bb.js"><link rel="prefetch" href="/assets/js/14.d98ee26c.js"><link rel="prefetch" href="/assets/js/140.cf104912.js"><link rel="prefetch" href="/assets/js/141.917d5919.js"><link rel="prefetch" href="/assets/js/142.d0c49c8f.js"><link rel="prefetch" href="/assets/js/143.e5647fcb.js"><link rel="prefetch" href="/assets/js/144.42362cf2.js"><link rel="prefetch" href="/assets/js/145.9f603000.js"><link rel="prefetch" href="/assets/js/146.9b30f1cd.js"><link rel="prefetch" href="/assets/js/147.00acaf92.js"><link rel="prefetch" href="/assets/js/148.0c69b088.js"><link rel="prefetch" href="/assets/js/149.2f219e93.js"><link rel="prefetch" href="/assets/js/15.d642d730.js"><link rel="prefetch" href="/assets/js/150.375474c6.js"><link rel="prefetch" href="/assets/js/151.66a582d5.js"><link rel="prefetch" href="/assets/js/152.1665682e.js"><link rel="prefetch" href="/assets/js/153.5a97da8e.js"><link rel="prefetch" href="/assets/js/154.3b76b78d.js"><link rel="prefetch" href="/assets/js/155.c92a6111.js"><link rel="prefetch" href="/assets/js/156.a247cd62.js"><link rel="prefetch" href="/assets/js/16.172153f0.js"><link rel="prefetch" href="/assets/js/17.ca69a778.js"><link rel="prefetch" href="/assets/js/18.3be7ba8f.js"><link rel="prefetch" href="/assets/js/19.4f66b5d8.js"><link rel="prefetch" href="/assets/js/20.8f0cd2cb.js"><link rel="prefetch" href="/assets/js/21.20681ba8.js"><link rel="prefetch" href="/assets/js/22.53b5baea.js"><link rel="prefetch" href="/assets/js/23.8b55cb0e.js"><link rel="prefetch" href="/assets/js/24.3328372c.js"><link rel="prefetch" href="/assets/js/25.ec23edd8.js"><link rel="prefetch" href="/assets/js/26.76e210a5.js"><link rel="prefetch" href="/assets/js/27.29b300ec.js"><link rel="prefetch" href="/assets/js/28.682ad17a.js"><link rel="prefetch" href="/assets/js/29.e1db4b89.js"><link rel="prefetch" href="/assets/js/30.796c2e36.js"><link rel="prefetch" href="/assets/js/31.912d2fae.js"><link rel="prefetch" href="/assets/js/32.60a749df.js"><link rel="prefetch" href="/assets/js/33.d87002b1.js"><link rel="prefetch" href="/assets/js/34.40a8b3f6.js"><link rel="prefetch" href="/assets/js/35.670ac802.js"><link rel="prefetch" href="/assets/js/36.e9f74d88.js"><link rel="prefetch" href="/assets/js/37.6d6f43d0.js"><link rel="prefetch" href="/assets/js/38.ef496ae1.js"><link rel="prefetch" href="/assets/js/39.fc216f43.js"><link rel="prefetch" href="/assets/js/4.01043612.js"><link rel="prefetch" href="/assets/js/40.3bd13625.js"><link rel="prefetch" href="/assets/js/42.3b26f469.js"><link rel="prefetch" href="/assets/js/43.744d42da.js"><link rel="prefetch" href="/assets/js/44.8b9a8908.js"><link rel="prefetch" href="/assets/js/45.19c8ed8e.js"><link rel="prefetch" href="/assets/js/46.29927647.js"><link rel="prefetch" href="/assets/js/47.e4f53070.js"><link rel="prefetch" href="/assets/js/48.108272d7.js"><link rel="prefetch" href="/assets/js/49.c1e35862.js"><link rel="prefetch" href="/assets/js/5.80b3dd9d.js"><link rel="prefetch" href="/assets/js/50.8af695e4.js"><link rel="prefetch" href="/assets/js/51.33ef3df2.js"><link rel="prefetch" href="/assets/js/52.58bb8f89.js"><link rel="prefetch" href="/assets/js/53.4c6b5e8a.js"><link rel="prefetch" href="/assets/js/54.5763a55d.js"><link rel="prefetch" href="/assets/js/55.15295e7d.js"><link rel="prefetch" href="/assets/js/56.61c94966.js"><link rel="prefetch" href="/assets/js/57.46def60f.js"><link rel="prefetch" href="/assets/js/58.119434b5.js"><link rel="prefetch" href="/assets/js/59.f712c9c5.js"><link rel="prefetch" href="/assets/js/6.a702a72d.js"><link rel="prefetch" href="/assets/js/60.2072c323.js"><link rel="prefetch" href="/assets/js/61.09518814.js"><link rel="prefetch" href="/assets/js/62.35a494eb.js"><link rel="prefetch" href="/assets/js/63.d31876c6.js"><link rel="prefetch" href="/assets/js/64.8f68a737.js"><link rel="prefetch" href="/assets/js/65.6b094c4b.js"><link rel="prefetch" href="/assets/js/66.7c5599cd.js"><link rel="prefetch" href="/assets/js/67.625cd24c.js"><link rel="prefetch" href="/assets/js/68.371f4f22.js"><link rel="prefetch" href="/assets/js/69.c45293ee.js"><link rel="prefetch" href="/assets/js/7.076cee01.js"><link rel="prefetch" href="/assets/js/70.7a22bd02.js"><link rel="prefetch" href="/assets/js/71.729213ff.js"><link rel="prefetch" href="/assets/js/72.0f07bfbc.js"><link rel="prefetch" href="/assets/js/73.4d0355d4.js"><link rel="prefetch" href="/assets/js/74.0f47f56e.js"><link rel="prefetch" href="/assets/js/75.d11ecf15.js"><link rel="prefetch" href="/assets/js/76.727f8a27.js"><link rel="prefetch" href="/assets/js/77.f71a8653.js"><link rel="prefetch" href="/assets/js/78.cb1a43c1.js"><link rel="prefetch" href="/assets/js/79.9e83573b.js"><link rel="prefetch" href="/assets/js/8.d5f02645.js"><link rel="prefetch" href="/assets/js/80.ffafa3ff.js"><link rel="prefetch" href="/assets/js/81.30de8c9b.js"><link rel="prefetch" href="/assets/js/82.4cb0a9a6.js"><link rel="prefetch" href="/assets/js/83.6bf25e9a.js"><link rel="prefetch" href="/assets/js/84.984a50d8.js"><link rel="prefetch" href="/assets/js/85.81009c16.js"><link rel="prefetch" href="/assets/js/86.3325dd7c.js"><link rel="prefetch" href="/assets/js/87.d9dea564.js"><link rel="prefetch" href="/assets/js/88.620d3c46.js"><link rel="prefetch" href="/assets/js/89.414375c4.js"><link rel="prefetch" href="/assets/js/9.f9048235.js"><link rel="prefetch" href="/assets/js/90.07be05fd.js"><link rel="prefetch" href="/assets/js/91.5b6132ee.js"><link rel="prefetch" href="/assets/js/92.efd68e29.js"><link rel="prefetch" href="/assets/js/93.4e37aebc.js"><link rel="prefetch" href="/assets/js/94.a306e6d9.js"><link rel="prefetch" href="/assets/js/95.ddbaa2e0.js"><link rel="prefetch" href="/assets/js/96.b4c98c12.js"><link rel="prefetch" href="/assets/js/97.3bca48ba.js"><link rel="prefetch" href="/assets/js/98.f52f497a.js"><link rel="prefetch" href="/assets/js/99.588f017d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.dfeb017d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-1156296a><div data-v-1156296a><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1156296a data-v-1156296a><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-4e82dffc data-v-1156296a data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>Awaken's blogs</h3> <p class="description" data-v-4e82dffc data-v-4e82dffc>Awaken's blogs</p> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>Awaken</span>
            
          <!---->
          2024
        </a></span></div></div> <div class="hide" data-v-1156296a><header class="navbar" data-v-1156296a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/wtw.jpg" alt="Awaken's blogs" class="logo"> <span class="site-name">Awaken's blogs</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/BigData/" class="nav-link"><i class="undefined"></i>
  BigData
</a></li><li class="dropdown-item"><!----> <a href="/categories/DAG/" class="nav-link"><i class="undefined"></i>
  DAG
</a></li><li class="dropdown-item"><!----> <a href="/categories/ES/" class="nav-link"><i class="undefined"></i>
  ES
</a></li><li class="dropdown-item"><!----> <a href="/categories/Flink/" class="nav-link"><i class="undefined"></i>
  Flink
</a></li><li class="dropdown-item"><!----> <a href="/categories/JUC/" class="nav-link"><i class="undefined"></i>
  JUC
</a></li><li class="dropdown-item"><!----> <a href="/categories/JVM/" class="nav-link"><i class="undefined"></i>
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/categories/JavaSE/" class="nav-link"><i class="undefined"></i>
  JavaSE
</a></li><li class="dropdown-item"><!----> <a href="/categories/Java/" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/categories/LeetCode/" class="nav-link"><i class="undefined"></i>
  LeetCode
</a></li><li class="dropdown-item"><!----> <a href="/categories/LINUX/" class="nav-link"><i class="undefined"></i>
  LINUX
</a></li><li class="dropdown-item"><!----> <a href="/categories/Linux/" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/categories/DB/" class="nav-link"><i class="undefined"></i>
  DB
</a></li><li class="dropdown-item"><!----> <a href="/categories/SSM/" class="nav-link"><i class="undefined"></i>
  SSM
</a></li><li class="dropdown-item"><!----> <a href="/categories/RK/" class="nav-link"><i class="undefined"></i>
  RK
</a></li><li class="dropdown-item"><!----> <a href="/categories/MQ/" class="nav-link"><i class="undefined"></i>
  MQ
</a></li><li class="dropdown-item"><!----> <a href="/categories/redis/" class="nav-link"><i class="undefined"></i>
  redis
</a></li><li class="dropdown-item"><!----> <a href="/categories/Spark/" class="nav-link"><i class="undefined"></i>
  Spark
</a></li><li class="dropdown-item"><!----> <a href="/categories/SpringBoot/" class="nav-link"><i class="undefined"></i>
  SpringBoot
</a></li><li class="dropdown-item"><!----> <a href="/categories/projects/" class="nav-link"><i class="undefined"></i>
  projects
</a></li><li class="dropdown-item"><!----> <a href="/categories/SpringCloud/" class="nav-link"><i class="undefined"></i>
  SpringCloud
</a></li><li class="dropdown-item"><!----> <a href="/categories/project1/" class="nav-link"><i class="undefined"></i>
  project1
</a></li><li class="dropdown-item"><!----> <a href="/categories/Tools/" class="nav-link"><i class="undefined"></i>
  Tools
</a></li><li class="dropdown-item"><!----> <a href="/categories/arthas/" class="nav-link"><i class="undefined"></i>
  arthas
</a></li><li class="dropdown-item"><!----> <a href="/categories/deploy/" class="nav-link"><i class="undefined"></i>
  deploy
</a></li><li class="dropdown-item"><!----> <a href="/categories/k8s/" class="nav-link"><i class="undefined"></i>
  k8s
</a></li><li class="dropdown-item"><!----> <a href="/categories/mall/" class="nav-link"><i class="undefined"></i>
  mall
</a></li><li class="dropdown-item"><!----> <a href="/categories/Python/" class="nav-link"><i class="undefined"></i>
  Python
</a></li><li class="dropdown-item"><!----> <a href="/categories/others/" class="nav-link"><i class="undefined"></i>
  others
</a></li><li class="dropdown-item"><!----> <a href="/categories/Spring/" class="nav-link"><i class="undefined"></i>
  Spring
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Docs
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/documents/" class="nav-link"><i class="undefined"></i>
  documents
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1156296a></div> <aside class="sidebar" data-v-1156296a><div class="personal-info-wrapper" data-v-828910c6 data-v-1156296a><img src="/wtw.jpg" alt="author-avatar" class="personal-img" data-v-828910c6> <h3 class="name" data-v-828910c6>
    Awaken
  </h3> <div class="num" data-v-828910c6><div data-v-828910c6><h3 data-v-828910c6>144</h3> <h6 data-v-828910c6>Articles</h6></div> <div data-v-828910c6><h3 data-v-828910c6>78</h3> <h6 data-v-828910c6>Tags</h6></div></div> <ul class="social-links" data-v-828910c6></ul> <hr data-v-828910c6></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/BigData/" class="nav-link"><i class="undefined"></i>
  BigData
</a></li><li class="dropdown-item"><!----> <a href="/categories/DAG/" class="nav-link"><i class="undefined"></i>
  DAG
</a></li><li class="dropdown-item"><!----> <a href="/categories/ES/" class="nav-link"><i class="undefined"></i>
  ES
</a></li><li class="dropdown-item"><!----> <a href="/categories/Flink/" class="nav-link"><i class="undefined"></i>
  Flink
</a></li><li class="dropdown-item"><!----> <a href="/categories/JUC/" class="nav-link"><i class="undefined"></i>
  JUC
</a></li><li class="dropdown-item"><!----> <a href="/categories/JVM/" class="nav-link"><i class="undefined"></i>
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/categories/JavaSE/" class="nav-link"><i class="undefined"></i>
  JavaSE
</a></li><li class="dropdown-item"><!----> <a href="/categories/Java/" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/categories/LeetCode/" class="nav-link"><i class="undefined"></i>
  LeetCode
</a></li><li class="dropdown-item"><!----> <a href="/categories/LINUX/" class="nav-link"><i class="undefined"></i>
  LINUX
</a></li><li class="dropdown-item"><!----> <a href="/categories/Linux/" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/categories/DB/" class="nav-link"><i class="undefined"></i>
  DB
</a></li><li class="dropdown-item"><!----> <a href="/categories/SSM/" class="nav-link"><i class="undefined"></i>
  SSM
</a></li><li class="dropdown-item"><!----> <a href="/categories/RK/" class="nav-link"><i class="undefined"></i>
  RK
</a></li><li class="dropdown-item"><!----> <a href="/categories/MQ/" class="nav-link"><i class="undefined"></i>
  MQ
</a></li><li class="dropdown-item"><!----> <a href="/categories/redis/" class="nav-link"><i class="undefined"></i>
  redis
</a></li><li class="dropdown-item"><!----> <a href="/categories/Spark/" class="nav-link"><i class="undefined"></i>
  Spark
</a></li><li class="dropdown-item"><!----> <a href="/categories/SpringBoot/" class="nav-link"><i class="undefined"></i>
  SpringBoot
</a></li><li class="dropdown-item"><!----> <a href="/categories/projects/" class="nav-link"><i class="undefined"></i>
  projects
</a></li><li class="dropdown-item"><!----> <a href="/categories/SpringCloud/" class="nav-link"><i class="undefined"></i>
  SpringCloud
</a></li><li class="dropdown-item"><!----> <a href="/categories/project1/" class="nav-link"><i class="undefined"></i>
  project1
</a></li><li class="dropdown-item"><!----> <a href="/categories/Tools/" class="nav-link"><i class="undefined"></i>
  Tools
</a></li><li class="dropdown-item"><!----> <a href="/categories/arthas/" class="nav-link"><i class="undefined"></i>
  arthas
</a></li><li class="dropdown-item"><!----> <a href="/categories/deploy/" class="nav-link"><i class="undefined"></i>
  deploy
</a></li><li class="dropdown-item"><!----> <a href="/categories/k8s/" class="nav-link"><i class="undefined"></i>
  k8s
</a></li><li class="dropdown-item"><!----> <a href="/categories/mall/" class="nav-link"><i class="undefined"></i>
  mall
</a></li><li class="dropdown-item"><!----> <a href="/categories/Python/" class="nav-link"><i class="undefined"></i>
  Python
</a></li><li class="dropdown-item"><!----> <a href="/categories/others/" class="nav-link"><i class="undefined"></i>
  others
</a></li><li class="dropdown-item"><!----> <a href="/categories/Spring/" class="nav-link"><i class="undefined"></i>
  Spring
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Docs
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/documents/" class="nav-link"><i class="undefined"></i>
  documents
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-4e82dffc data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>Scala</h3> <!----> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>Awaken</span>
            
          <!---->
          2024
        </a></span></div></div> <div data-v-1156296a><main class="page"><section><div class="page-title"><h1 class="title">Scala</h1> <div data-v-1ff7123e><i class="iconfont reco-account" data-v-1ff7123e><span data-v-1ff7123e>Awaken</span></i> <i class="iconfont reco-date" data-v-1ff7123e><span data-v-1ff7123e>5/28/2022</span></i> <!----> <i class="tags iconfont reco-tag" data-v-1ff7123e><span class="tag-item" data-v-1ff7123e>Scala</span></i></div></div> <div class="theme-reco-content content__default"><h2 id="_1-scala-入门"><a href="#_1-scala-入门" class="header-anchor">#</a> 1. Scala 入门</h2> <h3 id="_1-1-scala概述"><a href="#_1-1-scala概述" class="header-anchor">#</a> 1.1 Scala概述</h3> <blockquote><p>​	Scala将面向对象和函数式编程结合成一种简洁的高级语言。Scala的静态类型有助于避免复杂应用程序中的错误，它的JVM和JavaScript运行时让你可以轻松地访问庞大的库生态系统来构建高性能系统。</p></blockquote> <p>插件：http://plugins.jetbrains.com/plugin/1347-scala</p> <h3 id="_1-2-scala和java"><a href="#_1-2-scala和java" class="header-anchor">#</a> 1.2 Scala和Java</h3> <p><img src="https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/scala%2Fscala%26java.png" alt=""></p> <h3 id="_1-3-scala环境搭建"><a href="#_1-3-scala环境搭建" class="header-anchor">#</a> 1.3 Scala环境搭建</h3> <p>下载Scala安装文件，并配置环境变量，参考 JDK 安装方式。</p> <h3 id="_1-4-scala插件安装"><a href="#_1-4-scala插件安装" class="header-anchor">#</a> 1.4 Scala插件安装</h3> <blockquote><p>Maven 不支持Scala开发，需要引入Scala插件</p></blockquote> <p>插件离线安装：</p> <ol><li>将下载的插件.zip文件，放到Scala的安装目录下，方便管理。</li> <li>打开IDEA，File -&gt; Setting -&gt; Plugins -&gt; Install plugin from disk</li></ol> <p>插件在线安装：</p> <ol><li>插件搜索框输入 Scala -&gt; Install -&gt; apply</li></ol> <blockquote><p>右键项目：-&gt; Add Frameworks Support  -&gt; Scala</p></blockquote> <h2 id="_2-变量和数据类型"><a href="#_2-变量和数据类型" class="header-anchor">#</a> 2. 变量和数据类型</h2> <h2 id="_3-流程控制"><a href="#_3-流程控制" class="header-anchor">#</a> 3. 流程控制</h2> <h3 id="_3-1-循环控制"><a href="#_3-1-循环控制" class="header-anchor">#</a> 3.1 循环控制</h3> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    print<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
println<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 范围数据循环（前闭后开）</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">1</span> until <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    print<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
println<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 循环守卫</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token number">3</span> <span class="token keyword">if</span> i <span class="token operator">!=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    print<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 循环步长</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token number">10</span> by <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;i=&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 嵌套循环</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token number">3</span><span class="token punctuation">;</span> j <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot; i =&quot;</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">&quot; j = &quot;</span> <span class="token operator">+</span> j<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 引入变量</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token number">3</span><span class="token punctuation">;</span> j <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">-</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;i=&quot;</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">&quot; j=&quot;</span> <span class="token operator">+</span> j<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
println<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 循环返回值</span>
<span class="token keyword">val</span> res <span class="token operator">=</span> <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">yield</span> i
println<span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token comment">// 倒序</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token number">10</span> reverse<span class="token punctuation">)</span><span class="token punctuation">{</span>
    println<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="_3-2-循环中断"><a href="#_3-2-循环中断" class="header-anchor">#</a> 3.2 循环中断</h3> <h2 id="_4-函数式编程"><a href="#_4-函数式编程" class="header-anchor">#</a> 4. 函数式编程</h2> <h3 id="_4-1-函数至简原则"><a href="#_4-1-函数至简原则" class="header-anchor">#</a> 4.1 函数至简原则</h3> <ol><li>return可以省略，Scala会使用函数体的最后一行代码作为返回值</li> <li>如果函数体只有一行代码，可以省略花括号</li> <li>返回值类型如果能够推断出来，那么可以省略（：和返回值类型一起省略）</li> <li>如果有return，则不能省略返回值类型，必须指定</li> <li>如果函数明确声明 unit，那么即使函数体中使用了return关键字也不起作用</li> <li>Scala如果期望是无返回值类型，可以省略等号</li> <li>如果函数无参，但是声明了参数列表，那么调用时，小括号，可加可不加</li> <li>如果函数没有参数列表，那么小括号可以省略，调用时小括号必须省略</li> <li>如果不关心名称，只关心逻辑处理，那么函数名（def）可以省略</li></ol> <h3 id="_4-2-匿名函数"><a href="#_4-2-匿名函数" class="header-anchor">#</a> 4.2 匿名函数</h3> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// 1.定义一个函数：参数包含数据和逻辑函数</span>
<span class="token keyword">def</span> operation<span class="token punctuation">(</span>arr<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> op<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token keyword">=&gt;</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>elem <span class="token keyword">&lt;-</span> arr<span class="token punctuation">)</span> <span class="token keyword">yield</span> op<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 2.定义逻辑函数</span>
<span class="token keyword">def</span> op<span class="token punctuation">(</span>ele<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  ele <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token comment">// 3.标准函数调用</span>
<span class="token keyword">val</span> arr <span class="token operator">=</span> operation<span class="token punctuation">(</span>Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> op<span class="token punctuation">)</span>
println<span class="token punctuation">(</span>arr<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// 4.采用匿名函数</span>
<span class="token keyword">val</span> arr1 <span class="token operator">=</span> operation<span class="token punctuation">(</span>Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>ele<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token punctuation">{</span>
  ele <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
println<span class="token punctuation">(</span>arr1<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// 4.如果参数只出现一次，则参数省略且后面参数可以用 _ 代替</span>
    println<span class="token punctuation">(</span>calculator<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> _ <span class="token operator">+</span> _<span class="token punctuation">)</span><span class="token punctuation">)</span>

println<span class="token punctuation">(</span><span class="token string">&quot;==================案例1===================&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// 编写程序实现： f(10)(20)() 输出结果为200</span>
<span class="token keyword">def</span> cal1<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">def</span> cal2<span class="token punctuation">(</span>y<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">def</span> cal3<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      x <span class="token operator">*</span> y
    <span class="token punctuation">}</span>
    cal3 _
  <span class="token punctuation">}</span>
  cal2 _
<span class="token punctuation">}</span>

println<span class="token punctuation">(</span>cal1<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

println<span class="token punctuation">(</span><span class="token string">&quot;==================案例2===================&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// 实现： f(10)(20)(_*_) 输出结果为 200</span>
<span class="token keyword">def</span> cal4<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">{</span>
  <span class="token keyword">def</span> cal5<span class="token punctuation">(</span>y<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token keyword">def</span> cal6<span class="token punctuation">(</span>f<span class="token operator">:</span><span class="token punctuation">(</span><span class="token builtin">Int</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      f<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    cal6 _
  <span class="token punctuation">}</span>
  cal5 _
<span class="token punctuation">}</span>

println<span class="token punctuation">(</span>cal4<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">(</span>_ <span class="token operator">*</span> _<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><h3 id="_4-3-高阶函数"><a href="#_4-3-高阶函数" class="header-anchor">#</a> 4.3 高阶函数</h3> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// map映射</span>
<span class="token keyword">def</span> map<span class="token punctuation">(</span>arr<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> op<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token keyword">=&gt;</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>elem <span class="token keyword">&lt;-</span> arr<span class="token punctuation">)</span> <span class="token keyword">yield</span> op<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">val</span> arr <span class="token operator">=</span> map<span class="token punctuation">(</span>Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token punctuation">{</span>
  x <span class="token operator">*</span> x
<span class="token punctuation">}</span><span class="token punctuation">)</span>
println<span class="token punctuation">(</span>arr<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

println<span class="token punctuation">(</span><span class="token string">&quot;======================filter===================&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// filter过滤。有参数，且参数在后面只使用一次，则参数省略且后面参数用 _ 表示</span>
<span class="token keyword">def</span> filter<span class="token punctuation">(</span>arr<span class="token operator">:</span>Array<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> op<span class="token operator">:</span><span class="token builtin">Int</span> <span class="token keyword">=&gt;</span> <span class="token builtin">Boolean</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> arr1<span class="token operator">:</span> ArrayBuffer<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> ArrayBuffer<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>elem <span class="token keyword">&lt;-</span> arr <span class="token keyword">if</span> op<span class="token punctuation">(</span>elem<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    arr1<span class="token punctuation">.</span>append<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  arr1<span class="token punctuation">.</span>toArray
<span class="token punctuation">}</span>
<span class="token keyword">var</span> arr1 <span class="token operator">=</span> filter<span class="token punctuation">(</span>Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _ <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
println<span class="token punctuation">(</span>arr1<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

println<span class="token punctuation">(</span><span class="token string">&quot;============================reduce聚合==========================&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// reduce聚合。有多个参数，且每个参数在后面只使用一次，则参数省略且后面参数用 _ 表示，第n个 _ 代表第 n 个参数</span>
<span class="token keyword">def</span> reduce<span class="token punctuation">(</span>arr<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> op<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">Int</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> init<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> arr<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span>elem <span class="token keyword">&lt;-</span> <span class="token number">1</span> until arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    init <span class="token operator">=</span> op<span class="token punctuation">(</span>init<span class="token punctuation">,</span> elem<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  println<span class="token punctuation">(</span>init<span class="token punctuation">)</span>
  init

<span class="token punctuation">}</span>
<span class="token comment">// val arr2 = reduce(Array(1, 2, 3, 4), (x, y) =&gt; x * y)</span>
<span class="token keyword">val</span> arr3 <span class="token operator">=</span> reduce<span class="token punctuation">(</span>Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _ <span class="token operator">*</span> _<span class="token punctuation">)</span>
println<span class="token punctuation">(</span>arr3<span class="token punctuation">)</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><h3 id="_4-4-函数柯里化-闭包"><a href="#_4-4-函数柯里化-闭包" class="header-anchor">#</a> 4.4 函数柯里化&amp;闭包</h3> <blockquote><p>闭包：如果一个函数，访问到了它的外部（局部）变量的值，那么这个函数和他所处的环境，称为闭包</p> <p>函数柯里化：把一个参数列表的多个参数，变成多个参数列表。</p></blockquote> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code>println<span class="token punctuation">(</span><span class="token string">&quot;===============================闭包&amp;函数柯里化=============================&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> close<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> a<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">10</span>
  <span class="token keyword">def</span> pkg<span class="token punctuation">(</span>b<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    a <span class="token operator">+</span> b
  <span class="token punctuation">}</span>
  pkg _
<span class="token punctuation">}</span>
<span class="token comment">// 在调用时，close函数执行完毕后，局部变量a应该随着栈空间释放掉</span>
<span class="token keyword">val</span> f <span class="token operator">=</span> close<span class="token punctuation">(</span><span class="token punctuation">)</span>
println<span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 但是在此处，变量a其实并没有释放，而是包含在了f2函数的内部，形成了闭合的效果</span>

println<span class="token punctuation">(</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// 函数柯里化，其实就是将复杂的参数逻辑变得简单化，函数柯里化一定存在闭包</span>
<span class="token keyword">def</span> heri<span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">(</span>b<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  a <span class="token operator">+</span> b
<span class="token punctuation">}</span>

println<span class="token punctuation">(</span>heri<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_4-5-递归"><a href="#_4-5-递归" class="header-anchor">#</a> 4.5 递归</h3> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code>println<span class="token punctuation">(</span><span class="token string">&quot;=======================递归====================&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// 阶乘</span>
<span class="token comment">// 递归算法</span>
<span class="token comment">// 1.方法调用自身</span>
<span class="token comment">// 2.方法必须要有跳出逻辑</span>
<span class="token comment">// 3.方法调用自身时，传递的参数应该有规律</span>
<span class="token comment">// 4.scala中的递归必须声明函数返回值类型</span>
println<span class="token punctuation">(</span>test<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> test<span class="token punctuation">(</span>i<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token number">1</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    i <span class="token operator">*</span> test <span class="token punctuation">(</span>i <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_4-6-控制抽象"><a href="#_4-6-控制抽象" class="header-anchor">#</a> 4.6 控制抽象</h3> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code>println<span class="token punctuation">(</span><span class="token string">&quot;================控制抽象====================&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// 值调用：把计算后的值传递过去</span>
<span class="token keyword">def</span> f11 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token punctuation">{</span>
  println<span class="token punctuation">(</span><span class="token string">&quot;f...&quot;</span><span class="token punctuation">)</span>
  <span class="token number">10</span>
<span class="token punctuation">}</span>
foo<span class="token punctuation">(</span>f11<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// 名调用：把代码传递过去</span>
<span class="token comment">// def foo(a: Int) = {</span>
<span class="token keyword">def</span> foo<span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token keyword">=&gt;</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  println<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
  println<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

println<span class="token punctuation">(</span><span class="token string">&quot;===============传递代码块==============&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// 传递代码块</span>
ftt<span class="token punctuation">(</span><span class="token punctuation">{</span>
  println<span class="token punctuation">(</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">)</span>
  <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 小括号可以省略</span>
ftt<span class="token punctuation">{</span>
  println<span class="token punctuation">(</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">)</span>
  <span class="token number">2</span>
<span class="token punctuation">}</span>

<span class="token comment">//def ftt(a: =&gt; Unit) = {</span>
<span class="token keyword">def</span> ftt<span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token keyword">=&gt;</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  println<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
  println<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

println<span class="token punctuation">(</span><span class="token string">&quot;==============自定义While循环=============&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> i<span class="token operator">:</span><span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">1</span>
myWhile<span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  println<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  i <span class="token operator">+=</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token keyword">def</span> myWhile<span class="token punctuation">(</span>condition<span class="token operator">:</span> <span class="token keyword">=&gt;</span> <span class="token builtin">Boolean</span><span class="token punctuation">)</span><span class="token punctuation">(</span>op<span class="token operator">:</span> <span class="token keyword">=&gt;</span> <span class="token builtin">Unit</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    op
    myWhile<span class="token punctuation">(</span>condition<span class="token punctuation">)</span><span class="token punctuation">(</span>op<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><h3 id="_4-7-惰性函数"><a href="#_4-7-惰性函数" class="header-anchor">#</a> 4.7 惰性函数</h3> <blockquote><p>当函数返回值被声明为lazy时，函数的执行将被推迟，直到我们首次对此取值，该函数才会执行。</p> <p>lazy不能修饰var类型的变量</p></blockquote> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code>println<span class="token punctuation">(</span><span class="token string">&quot;================惰性函数===============&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">lazy</span> <span class="token keyword">val</span> res <span class="token operator">=</span> sum<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
println<span class="token punctuation">(</span><span class="token string">&quot;-------------&quot;</span><span class="token punctuation">)</span>
println<span class="token punctuation">(</span><span class="token string">&quot;res=&quot;</span> <span class="token operator">+</span> res<span class="token punctuation">)</span>

<span class="token keyword">def</span> sum<span class="token punctuation">(</span>n1<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> n2<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  println<span class="token punctuation">(</span><span class="token string">&quot;sum被执行。。。&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> n1 <span class="token operator">+</span> n2
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>result：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>惰性函数<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
-------------
sum被执行。。。
<span class="token assign-left variable">res</span><span class="token operator">=</span><span class="token number">40</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_5-面向对象"><a href="#_5-面向对象" class="header-anchor">#</a> 5. 面向对象</h2> <h3 id="_5-1-beanproperty来兼容javabean"><a href="#_5-1-beanproperty来兼容javabean" class="header-anchor">#</a> 5.1 @BeanProperty来兼容JavaBean</h3> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">class</span> Student <span class="token punctuation">{</span>

  <span class="token annotation punctuation">@BeanProperty</span>
  <span class="token keyword">var</span> name<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;rose&quot;</span>

  <span class="token keyword">var</span> age<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> _ <span class="token comment">// _ 表示给属性一个默认值</span>

  <span class="token annotation punctuation">@BeanProperty</span>
  <span class="token keyword">var</span> sex<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;男&quot;</span>

<span class="token punctuation">}</span>
<span class="token keyword">object</span> Student <span class="token punctuation">{</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token keyword">val</span> student <span class="token operator">=</span> <span class="token keyword">new</span> Student
    println<span class="token punctuation">(</span>student<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>student<span class="token punctuation">.</span>getName<span class="token punctuation">)</span>
    student<span class="token punctuation">.</span>setSex<span class="token punctuation">(</span><span class="token string">&quot;女&quot;</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>student<span class="token punctuation">.</span>getSex<span class="token punctuation">)</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="_5-2-访问权限"><a href="#_5-2-访问权限" class="header-anchor">#</a> 5.2 访问权限</h3> <ol><li>Scala中属性和方法的默认访问权限为public，但Scala中无public关键字。</li> <li>private为私有权限，只在类的内部和伴生对象中可用。</li> <li>protected 为受保护权限，Scala中受保护权限比Java中更严格，同类、子类可以访问，同包无法访问。</li> <li>private[包名] 增加包访问权限，包名下的其他类也可以使用</li></ol> <h3 id="_5-3-多态"><a href="#_5-3-多态" class="header-anchor">#</a> 5.3 多态</h3> <blockquote><p>父类型的引用指向子类型的实例</p></blockquote> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> People <span class="token punctuation">{</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token keyword">val</span> people <span class="token operator">=</span> <span class="token keyword">new</span> People

    people<span class="token punctuation">.</span>say<span class="token punctuation">(</span><span class="token punctuation">)</span>

    println<span class="token punctuation">(</span>people<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

    println<span class="token punctuation">(</span>people<span class="token punctuation">.</span>age<span class="token punctuation">)</span>

    <span class="token keyword">val</span> teacher<span class="token operator">:</span>People <span class="token operator">=</span> <span class="token keyword">new</span> Teacher
    teacher<span class="token punctuation">.</span>say<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 无法调用子类独有的方法</span>
    <span class="token comment">// teacher.test()</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">class</span> Teacher <span class="token keyword">extends</span> People <span class="token punctuation">{</span>
  <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;teacher&quot;</span>
  <span class="token keyword">def</span> test<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">override</span> <span class="token keyword">def</span> say<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><blockquote><p>Scala多态和Java的区别：Scala调用的是子类的方法，而Java调用的是父类的方法</p></blockquote> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">class</span> Personer <span class="token punctuation">{</span>
  <span class="token keyword">val</span> name<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;Personer&quot;</span>

  <span class="token keyword">def</span> hello<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;hello personer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> Teacher1 <span class="token keyword">extends</span> Personer <span class="token punctuation">{</span>
  <span class="token keyword">override</span> <span class="token keyword">val</span> name<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;teacher&quot;</span>

  <span class="token keyword">override</span> <span class="token keyword">def</span> hello<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;hello teacher&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">object</span> Test111 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> teacher<span class="token operator">:</span> Teacher1 <span class="token operator">=</span> <span class="token keyword">new</span> Teacher1<span class="token punctuation">;</span>
    println<span class="token punctuation">(</span>teacher<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    teacher<span class="token punctuation">.</span>hello<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> teacher1<span class="token operator">:</span>Personer <span class="token operator">=</span> <span class="token keyword">new</span> Teacher1
    println<span class="token punctuation">(</span>teacher1<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    teacher1<span class="token punctuation">.</span>hello<span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="_5-4-构造器"><a href="#_5-4-构造器" class="header-anchor">#</a> 5.4 构造器</h3> <blockquote><p>Scala类的构造器包括：主构造器和辅助构造器</p></blockquote> <ol><li>辅助构造器，函数的名称 this，可以有多个，编译器通过参数的个数及类型来区分。</li> <li>辅助构造方法不能直接构建对象，必须直接或间接调用主构造方法。</li> <li>构造器调用其他另外的构造器，要求被调用构造器必须提前声明。</li></ol> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">//（1）如果主构造器无参数，小括号可省略</span>
<span class="token comment">// class Person() {</span>
<span class="token keyword">class</span> Person <span class="token punctuation">{</span>

  <span class="token keyword">var</span> name<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> _

  <span class="token keyword">var</span> age<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> _

  <span class="token keyword">def</span> <span class="token keyword">this</span><span class="token punctuation">(</span>age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    println<span class="token punctuation">(</span>age<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;辅助构造器&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> <span class="token keyword">this</span><span class="token punctuation">(</span>age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    println<span class="token punctuation">(</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  println<span class="token punctuation">(</span><span class="token string">&quot;主构造器&quot;</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span>
<span class="token keyword">object</span>  Person <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token keyword">val</span> person <span class="token operator">=</span> <span class="token keyword">new</span> Person<span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&quot;scala&quot;</span><span class="token punctuation">)</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="_5-5-构造器参数"><a href="#_5-5-构造器参数" class="header-anchor">#</a> 5.5 构造器参数</h3> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">class</span> Person<span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token keyword">var</span> age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> <span class="token keyword">val</span> sex<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token keyword">object</span> Test <span class="token punctuation">{</span>

    <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

        <span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> Person<span class="token punctuation">(</span><span class="token string">&quot;bobo&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&quot;男&quot;</span><span class="token punctuation">)</span>

        <span class="token comment">// （1）未用任何修饰符修饰，这个参数就是一个局部变量</span>
        <span class="token comment">// printf(person.name)</span>

        <span class="token comment">// （2）var修饰参数，作为类的成员属性使用，可以修改</span>
        person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">19</span>
        println<span class="token punctuation">(</span>person<span class="token punctuation">.</span>age<span class="token punctuation">)</span>

        <span class="token comment">// （3）val修饰参数，作为类的只读属性使用，不能修改</span>
        <span class="token comment">// person.sex = &quot;女&quot;</span>
        println<span class="token punctuation">(</span>person<span class="token punctuation">.</span>sex<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="_5-6-继承"><a href="#_5-6-继承" class="header-anchor">#</a> 5.6 继承</h3> <blockquote><p>Scala是单继承</p> <p>继承的调用顺序：父类构造器 --&gt; 子类构造器</p></blockquote> <ol><li>如果父类为抽象类，那么子类需要将抽象的属性和方法实现，否则子类也需要声明为抽象类</li> <li>重写非抽象方法需要用override修饰，重写抽象方法则可以不加override</li> <li>子类中调用父类的方法使用super关键字</li> <li>子类对抽象属性进行实现，父类抽象属性可以用var修饰；子类对非抽象属性重写，父类非抽象属性只支持val类型，而不支持var。（因为var修饰的为可变变量，子类继承之后就可以直接使用，没有必要重写）</li> <li>Scala中属性和方法都是动态绑定，而Java中只有方法为动态绑定。</li></ol> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">class</span> Person<span class="token punctuation">(</span>nameParam<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token keyword">var</span> name <span class="token operator">=</span> nameParam
  <span class="token keyword">var</span> age<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> _

  <span class="token keyword">def</span> <span class="token keyword">this</span><span class="token punctuation">(</span>nameParam<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> ageParam<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">(</span>nameParam<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> ageParam
    println<span class="token punctuation">(</span><span class="token string">&quot;父类辅助构造器&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  println<span class="token punctuation">(</span><span class="token string">&quot;父类主构造器&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> Emp<span class="token punctuation">(</span>nameParam<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> ageParam<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token keyword">extends</span> Person<span class="token punctuation">(</span>nameParam<span class="token punctuation">,</span> ageParam<span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token keyword">var</span> empNo<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> _

  <span class="token keyword">def</span> <span class="token keyword">this</span><span class="token punctuation">(</span>nameParam<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> ageParam<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> empNoParam<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">(</span>nameParam<span class="token punctuation">,</span> ageParam<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>empNo <span class="token operator">=</span> empNoParam
    println<span class="token punctuation">(</span><span class="token string">&quot;子类的辅助构造器&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  println<span class="token punctuation">(</span><span class="token string">&quot;子类主构造器&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="_5-7-抽象属性-抽象方法"><a href="#_5-7-抽象属性-抽象方法" class="header-anchor">#</a> 5.7 抽象属性/抽象方法</h3> <blockquote><ol><li>抽象类：abstract class Person{}</li> <li>抽象属性：val|var name: String 一个属性没有初始化，就是抽象属性</li> <li>抽象方法：def hello() : String 只声明而没有实现的方法，就是抽象方法；抽象方法必须定义在抽象类里</li></ol></blockquote> <h3 id="_5-8-匿名子类"><a href="#_5-8-匿名子类" class="header-anchor">#</a> 5.8 匿名子类</h3> <blockquote><p>和Java一样，可以通过包含带有定义或重写的代码块的方式创建一个匿名的子类。</p></blockquote> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> Person <span class="token punctuation">{</span>

    <span class="token keyword">val</span> name<span class="token operator">:</span> <span class="token builtin">String</span>

    <span class="token keyword">def</span> hello<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span>
<span class="token punctuation">}</span>

<span class="token keyword">object</span> Test <span class="token punctuation">{</span>

    <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

        <span class="token keyword">new</span> Person <span class="token punctuation">{</span>

            <span class="token keyword">override</span> <span class="token keyword">val</span> name<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;teacher&quot;</span>

            <span class="token keyword">override</span> <span class="token keyword">def</span> hello<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> println<span class="token punctuation">(</span><span class="token string">&quot;hello teacher&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="_5-9-单例对象-伴生对象"><a href="#_5-9-单例对象-伴生对象" class="header-anchor">#</a> 5.9 单例对象(伴生对象)</h3> <blockquote><p>​	Scala语言是完全面向对象的语言，所以并没有静态的操作（即在Scala中没有静态的概念）。但是为了能够和Java语言交互（因为Java中有静态概念），就产生了一种特殊的对象来模拟类对象，该对象为<strong>单例对象</strong>。若单例对象名与类名一致，则称该单例对象这个类的<strong>伴生对象</strong>，这个类的所有“静态”内容都可以放置在它的伴生对象中声明。</p></blockquote> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">//（1）伴生对象采用object关键字声明</span>
<span class="token keyword">object</span> Person <span class="token punctuation">{</span>
    <span class="token keyword">var</span> country<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;China&quot;</span>
<span class="token punctuation">}</span>

<span class="token comment">//（2）伴生对象对应的类称之为伴生类，伴生对象的名称应该和伴生类名一致。</span>
<span class="token keyword">class</span> Person <span class="token punctuation">{</span>
    <span class="token keyword">var</span> name<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;bobo&quot;</span>
<span class="token punctuation">}</span>

<span class="token keyword">object</span> Test <span class="token punctuation">{</span>
    <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token comment">//（3）伴生对象中的属性和方法都可以通过伴生对象名（类名）直接调用访问。</span>
        println<span class="token punctuation">(</span>Person<span class="token punctuation">.</span>country<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="apply方法"><a href="#apply方法" class="header-anchor">#</a> apply方法</h4> <ol><li>通过伴生对象的apply方法，实现不使用 new 方法创建对象</li> <li>如果想让主构造器变成私有的，可以在 () 之前加上private</li> <li>apply 方法可以重载</li> <li>Scala 中 obj(arg)的语句实际是在调用该对象的 apply 方法，即 obj.apply(arg)。用以统一面向对象编程和函数式编程的风格。</li> <li>当使用 new 关键字构建对象时，调用的其实是类的构造方法，当直接使用类名构建对象时，调用的其实是伴生对象的 apply 方法。</li></ol> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">class</span> Personaly <span class="token keyword">private</span> <span class="token punctuation">(</span>cName<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> name<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> cName
<span class="token punctuation">}</span>

<span class="token keyword">object</span> Personaly <span class="token punctuation">{</span>
  <span class="token keyword">def</span> apply<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;apply空参被调用&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">new</span> Personaly<span class="token punctuation">(</span><span class="token string">&quot;xx&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> apply<span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> Personaly <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;apply有参被调用&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">new</span> Personaly<span class="token punctuation">(</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">object</span> Test222 <span class="token punctuation">{</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token comment">//（1）通过伴生对象的apply方法，实现不使用new关键字创建对象。</span>
    <span class="token keyword">val</span> p1 <span class="token operator">=</span> Personaly<span class="token punctuation">(</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;p1.name=&quot;</span> <span class="token operator">+</span> p1<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

    <span class="token keyword">val</span> p2 <span class="token operator">=</span> Personaly<span class="token punctuation">(</span><span class="token string">&quot;bobo&quot;</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;p2.name=&quot;</span> <span class="token operator">+</span> p2<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="_5-10-特质-trait"><a href="#_5-10-特质-trait" class="header-anchor">#</a> 5.10 特质（Trait）</h3> <blockquote><p>​	Scala语言中，采用特质trait（特征）来代替接口的概念，也就是说，多个类具有相同的特质（特征）时，就可以将这个特质（特征）独立出来，采用关键字trait声明。</p> <p>​	Scala中的trait中即<strong>可以有抽象属性和方法，也可以有具体的属性和方法</strong>，<strong>一个类可以混入（mixin）多个特质</strong>。这种感觉类似于Java中的抽象类。</p> <p>​	Scala引入trait特征，第一可以替代Java的接口，第二个也是对单继承机制的一种补充。</p></blockquote> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">trait</span> PersonTrait <span class="token punctuation">{</span>

  <span class="token comment">// 1.特质可以同时拥有抽象方法和具体方法</span>
  <span class="token comment">// 声明属性</span>
  <span class="token keyword">var</span> name<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> _

  <span class="token comment">// 声明方法</span>
  <span class="token keyword">def</span> eat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;PersnTrait eat...&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 抽象属性</span>
  <span class="token keyword">var</span> age<span class="token operator">:</span> <span class="token builtin">Int</span>

  <span class="token comment">// 抽象方法</span>
  <span class="token keyword">def</span> say<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span>

<span class="token keyword">trait</span> SexTrait <span class="token punctuation">{</span>
  <span class="token keyword">var</span> sex<span class="token operator">:</span> <span class="token builtin">String</span>
<span class="token punctuation">}</span>

<span class="token comment">// 2.一个类可以实现/继承多个特质</span>
<span class="token comment">// 3.所有的Java接口都可以当作Scala特质使用</span>
<span class="token keyword">class</span> TraitTeacher <span class="token keyword">extends</span> PersonTrait <span class="token keyword">with</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>Serializable <span class="token punctuation">{</span>
  <span class="token keyword">override</span> <span class="token keyword">def</span> say<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;TraitTeacher hello&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token comment">//  override def eat(): Unit = {</span>
<span class="token comment">//    println(&quot;TraitTeacher eat...&quot;)</span>
<span class="token comment">//  }</span>

  <span class="token keyword">override</span> <span class="token keyword">var</span> age<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> _
<span class="token punctuation">}</span>

<span class="token keyword">object</span> TestTrait <span class="token punctuation">{</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token keyword">val</span> teacher <span class="token operator">=</span> <span class="token keyword">new</span> TraitTeacher

    teacher<span class="token punctuation">.</span>say<span class="token punctuation">(</span><span class="token punctuation">)</span>
    teacher<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// 4.动态混入：可灵活的扩展类的功能</span>
    <span class="token keyword">val</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> TraitTeacher <span class="token keyword">with</span> SexTrait <span class="token punctuation">{</span>
      <span class="token keyword">override</span> <span class="token keyword">var</span> sex<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;男&quot;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//调用混入trait的属性</span>
    println<span class="token punctuation">(</span>t2<span class="token punctuation">.</span>sex<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><h4 id="_5-10-1-基本语法"><a href="#_5-10-1-基本语法" class="header-anchor">#</a> 5.10.1 基本语法</h4> <blockquote><p>​	一个类具有某种特质（特征），就意味着这个类满足了这个特质（特征）的所有要素，所以在使用时，也采用了extends关键字，如果有多个特质或存在父类，那么需要采用with关键字连接。</p></blockquote> <p>没有父类： class 类名  extends 特质1 with 特质2 .....</p> <p>有父类：     class 类名  extends 父类 with 特质1 with 特质2 .....</p> <blockquote><p>类和特质的关系：使用继承的关系</p></blockquote> <h4 id="_5-10-2-特质叠加"><a href="#_5-10-2-特质叠加" class="header-anchor">#</a> 5.10.2 特质叠加</h4> <blockquote><p>​	由于一个类可以混入（mixin）多个trait，且trait中可以有具体的属性和方法，若混入的特质中具有相同的方法（方法名，参数列表，返回值均相同），必然会出现继承冲突问题。冲突分为以下两种：</p> <p>​	第一种，一个类（Sub）混入的两个trait（TraitA，TraitB）中具有相同的具体方法，且两个trait之间没有任何关系，解决这类冲突问题，直接在类（Sub）中重写冲突方法。</p> <p>​	第二种，一个类（Sub）混入的两个trait（TraitA，TraitB）中具有相同的具体方法，且两个trait继承自相同的trait（TraitC），及所谓的“钻石问题”，解决这类冲突问题，Scala采用了<strong>特质叠加</strong>的策略。</p></blockquote> <p>特质叠加</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">trait</span> Ball <span class="token punctuation">{</span>
  <span class="token keyword">def</span> describe<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;ball&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">trait</span> Color <span class="token keyword">extends</span> Ball <span class="token punctuation">{</span>
  <span class="token keyword">override</span> <span class="token keyword">def</span> describe<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;blue-&quot;</span> <span class="token operator">+</span> <span class="token keyword">super</span><span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">trait</span> Category <span class="token keyword">extends</span> Ball <span class="token punctuation">{</span>
  <span class="token keyword">override</span> <span class="token keyword">def</span> describe<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;foot-&quot;</span> <span class="token operator">+</span> <span class="token keyword">super</span><span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> MyBall <span class="token keyword">extends</span> Category <span class="token keyword">with</span> Color <span class="token punctuation">{</span>
  <span class="token keyword">override</span> <span class="token keyword">def</span> describe<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;my ball is a &quot;</span> <span class="token operator">+</span> <span class="token keyword">super</span><span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">object</span> TestTrait111 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token keyword">new</span> MyBall<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>结果：my ball is a blue-foot-ball</p> <h4 id="_5-10-3-特质叠加指向顺序"><a href="#_5-10-3-特质叠加指向顺序" class="header-anchor">#</a> 5.10.3 特质叠加指向顺序</h4> <blockquote><p>​	当一个类混入多个特质的时候，scala会对所有的特质及其父特质按照一定的顺序进行排序，而此案例中的super.describe()调用的实际上是排好序后的下一个特质中的describe()方法，排序规则如下：</p></blockquote> <p><img src="https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/scala%2Ftrait.png" alt=""></p> <blockquote><ol><li>案例中的 super，不是表示其父特质对象，而是表示上述叠加顺序中的下一个特质，即MyClass中的super指代Color，Color中的super指代Category，Category中的super指代Ball。</li> <li>如果想要调用某个特定的混入特质中的方法，可以增加约束：super[]，例如super[Category].describe()</li></ol></blockquote> <h4 id="_5-10-4-特质自身类型"><a href="#_5-10-4-特质自身类型" class="header-anchor">#</a> 5.10.4 特质自身类型</h4> <blockquote><p>​	自身类型可实现依赖注入的功能。</p></blockquote> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">class</span> User <span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token keyword">val</span> age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span>

<span class="token keyword">trait</span> Dao <span class="token punctuation">{</span>
  <span class="token keyword">def</span> insert<span class="token punctuation">(</span>user<span class="token operator">:</span> User<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;insert into database :&quot;</span> <span class="token operator">+</span> user<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">trait</span> App <span class="token punctuation">{</span>
  <span class="token comment">// 依赖注入</span>
  _<span class="token operator">:</span> Dao <span class="token keyword">=&gt;</span>

  <span class="token keyword">def</span> login <span class="token punctuation">(</span>user<span class="token operator">:</span> User<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;login :&quot;</span> <span class="token operator">+</span> user<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    insert<span class="token punctuation">(</span>user<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">object</span> MyApp <span class="token keyword">extends</span> App <span class="token keyword">with</span> Dao <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    login<span class="token punctuation">(</span><span class="token keyword">new</span> User<span class="token punctuation">(</span><span class="token string">&quot;bobo&quot;</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><blockquote><p>特质和抽象类的区别：</p> <ol><li>优先使用特质。一个类扩展多个特质是很方便的，但却只能扩展一个抽象类。</li> <li>如果你需要构造函数参数，使用抽象类。因为抽象类可以定义带参数的构造函数，而特质不行（有无参构造）。</li></ol></blockquote> <h3 id="_5-11-扩展-类型"><a href="#_5-11-扩展-类型" class="header-anchor">#</a> 5.11 扩展（类型）</h3> <h4 id="_5-11-1-类型检查和转换"><a href="#_5-11-1-类型检查和转换" class="header-anchor">#</a> 5.11.1 类型检查和转换</h4> <blockquote><p>obj.isInstanceOf[T]：判断obj是不是T类型。</p> <p>obj.asInstanceOf[T]：将obj强转成T类型。</p> <p>classOf[T]：获取对象的类名。（val unit: Class[User] = classOf[User]）</p></blockquote> <h4 id="_5-11-2-枚举类和应用类"><a href="#_5-11-2-枚举类和应用类" class="header-anchor">#</a> 5.11.2 枚举类和应用类</h4> <blockquote><p>枚举类：需要继承Enumeration</p> <p>应用类：需要继承App</p></blockquote> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> TestAPP <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span>ColorEnum<span class="token punctuation">.</span>RED<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>ColorEnum<span class="token punctuation">.</span>BLUE<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 枚举类</span>
<span class="token keyword">object</span> ColorEnum <span class="token keyword">extends</span> Enumeration <span class="token punctuation">{</span>
  <span class="token keyword">val</span> RED <span class="token operator">=</span> Value<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">val</span> BLUE <span class="token operator">=</span> Value<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 应用类</span>
<span class="token keyword">object</span> ColorApp <span class="token keyword">extends</span> App <span class="token punctuation">{</span>
  println<span class="token punctuation">(</span><span class="token string">&quot;app init ......&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="_5-11-3-type定义新类型"><a href="#_5-11-3-type定义新类型" class="header-anchor">#</a> 5.11.3 Type定义新类型</h4> <blockquote><p>使用type关键字可以定义新的数据类型名称，本质上就是类型的一个别名</p></blockquote> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> Test <span class="token punctuation">{</span>

    <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        
        <span class="token keyword">type</span> S<span class="token operator">=</span><span class="token builtin">String</span>
        <span class="token keyword">var</span> v<span class="token operator">:</span>S<span class="token operator">=</span><span class="token string">&quot;abc&quot;</span>
        <span class="token keyword">def</span> test<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>S<span class="token operator">=</span><span class="token string">&quot;xyz&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_6-集合"><a href="#_6-集合" class="header-anchor">#</a> 6. 集合</h2> <p>1）Scala的集合有三大类：序列Seq、集Set、映射Map，所有的集合都扩展自Iterable特质。</p> <p>2）对于几乎所有的集合类，Scala都同时提供了<strong>可变</strong>和<strong>不可变</strong>的版本，分别位于以下两个包。</p> <p>​	不可变集合：scala.collection.<strong>immutable</strong></p> <p>​	可变集合：  scala.collection.<strong>mutable</strong></p> <p>3）Scala不可变集合，就是指该集合对象不可修改，每次修改就会返回一个新对象，而不会对原对象进行修改。类似于java中的String对象</p> <p>4）可变集合，就是这个集合可以直接对原对象进行修改，而不会返回新的对象。类似于java中StringBuilder对象</p> <blockquote><p>建议：在操作集合的时候，不可变用符号，可变用方法。</p></blockquote> <h3 id="_6-1-集合"><a href="#_6-1-集合" class="header-anchor">#</a> 6.1 集合</h3> <h4 id="_6-1-1-不可变集合继承图"><a href="#_6-1-1-不可变集合继承图" class="header-anchor">#</a> 6.1.1 不可变集合继承图</h4> <p><img src="https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/scala%2Fimmutable.png" alt=""></p> <ol><li>Set、Map是 Java 中也有的集合</li> <li>Seq是Java没有的，List归属到Seq了，因此这个List就和Java不是同一个概念了</li> <li>for循环有一个 1 to 3，就是 IndexedSeq下的 Range</li> <li>String 也是属于 IndexedSeq</li> <li>经典的数据结构比如 Queue 和 Stack 被归属到 LinearSeq（线性序列）</li> <li>Scala 中的 Map 体系有一个 SortedMap，说明 Scala 的 Map 可以支持排序</li> <li>IndexedSeq 和 LinearSeq 的区别：
<ol><li>IndexedSeq 是通过索引来查找和定位，因此查找的效率高。</li> <li>LinearSeq 是线型的，即有头尾的概念，这种数据结构一般是通过遍历来查找</li></ol></li></ol> <h4 id="_6-1-2-可变集合继承图"><a href="#_6-1-2-可变集合继承图" class="header-anchor">#</a> 6.1.2 可变集合继承图</h4> <p><img src="https://lskyimage-1306894954.cos.ap-nanjing.myqcloud.com/scala%2Fmutable.png" alt=""></p> <h3 id="_6-2-数组"><a href="#_6-2-数组" class="header-anchor">#</a> 6.2 数组</h3> <h4 id="_6-2-1-不可变数组"><a href="#_6-2-1-不可变数组" class="header-anchor">#</a> 6.2.1 不可变数组</h4> <p><code>val arr = new Array[Int](10)</code></p> <ul><li>new 是关键字</li> <li>[Int] 是指定类型，如果希望存放任意类型，则指定 Any</li> <li>(10)，表示数组大小</li></ul> <p><code>val arr = Array(1,2)</code></p> <ul><li>在定义数组时，直接赋值初始值</li> <li>使用 apply 方法创建数组对象</li></ul> <h4 id="_6-2-2-可变数组"><a href="#_6-2-2-可变数组" class="header-anchor">#</a> 6.2.2 可变数组</h4> <p><code>val arr = ArrayBuffer[Any](3,2,4)</code></p> <ul><li>[Any] 存放任意数据类型</li> <li>(3,2,4)初始化好的三个元素</li> <li>ArrayBuffer 需要引入 <code>scala.collection.mutable.ArrayBuffer</code></li> <li>ArrayBuffer 是有序的集合</li> <li>增加元素使用的是 append() 方法，支持可变参数</li></ul> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">//（3）增加元素</span>
<span class="token comment">//（3.1）追加数据</span>
arr01<span class="token punctuation">.</span>+<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token comment">//（3.2）向数组最后追加数据</span>
arr01<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span>
<span class="token comment">//（3.3）向指定的位置插入数据</span>
arr01<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span>
println<span class="token punctuation">(</span><span class="token string">&quot;arr01.hash=&quot;</span> <span class="token operator">+</span> arr01<span class="token punctuation">.</span>hashCode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">//（4）修改元素</span>
arr01<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">9</span> <span class="token comment">//修改第2个元素的值</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_6-2-3-不可变与可变的转换"><a href="#_6-2-3-不可变与可变的转换" class="header-anchor">#</a> 6.2.3 不可变与可变的转换</h4> <blockquote><p>arr1.toBuffer  //不可变数组转可变数组</p> <p>arr2.toArray  //可变数组转不可变数组</p> <p>（1）arr2.toArray返回结果才是一个不可变数组，arr2本身没有变化</p> <p>（2）arr1.toBuffer返回结果才是一个可变数组，arr1本身没有变化</p></blockquote> <h3 id="_6-3-seq集合-list"><a href="#_6-3-seq集合-list" class="header-anchor">#</a> 6.3 Seq集合(List)</h3> <h4 id="_6-3-1-不可变-list"><a href="#_6-3-1-不可变-list" class="header-anchor">#</a> 6.3.1 不可变 List</h4> <ul><li>List默认为不可变集合</li> <li>创建一个List（数据有顺序，可重复）</li> <li>遍历List</li> <li>List增加数据</li> <li>集合间合并：将一个整体拆成一个一个的个体，称为扁平化</li> <li>取指定数据</li> <li>空集合Nil</li></ul> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> TestList <span class="token punctuation">{</span>

    <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

        <span class="token comment">//（1）List默认为不可变集合</span>
        <span class="token comment">//（2）创建一个List（数据有顺序，可重复）</span>
        <span class="token keyword">val</span> list<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
        
        <span class="token comment">//（7）空集合Nil</span>
        <span class="token keyword">val</span> list5 <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">::</span><span class="token number">2</span><span class="token operator">::</span><span class="token number">3</span><span class="token operator">::</span><span class="token number">4</span><span class="token operator">::</span>Nil

        <span class="token comment">//（4）List增加数据</span>
        <span class="token comment">//（4.1）::的运算规则从右向左</span>
        <span class="token comment">//val list1 = 5::list</span>
        <span class="token keyword">val</span> list1 <span class="token operator">=</span> <span class="token number">7</span><span class="token operator">::</span><span class="token number">6</span><span class="token operator">::</span><span class="token number">5</span><span class="token operator">::</span>list
        <span class="token comment">//（4.2）添加到第一个元素位置</span>
        <span class="token keyword">val</span> list2 <span class="token operator">=</span> list<span class="token punctuation">.</span>+<span class="token operator">:</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>

        <span class="token comment">//（5）集合间合并：将一个整体拆成一个一个的个体，称为扁平化</span>
        <span class="token keyword">val</span> list3 <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span>
        <span class="token comment">//val list4 = list3::list1</span>
        <span class="token keyword">val</span> list4 <span class="token operator">=</span> list3<span class="token operator">::</span><span class="token operator">:</span>list1

        <span class="token comment">//（6）取指定数据</span>
        println<span class="token punctuation">(</span>list<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment">//（3）遍历List</span>
        <span class="token comment">//list.foreach(println)</span>
        <span class="token comment">//list1.foreach(println)</span>
        <span class="token comment">//list3.foreach(println)</span>
        <span class="token comment">//list4.foreach(println)</span>
        list5<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h4 id="_6-3-2-可变-listbuffer"><a href="#_6-3-2-可变-listbuffer" class="header-anchor">#</a> 6.3.2 可变 ListBuffer</h4> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> TestList <span class="token punctuation">{</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token comment">//（1）创建一个可变集合</span>
    <span class="token keyword">val</span> buffer <span class="token operator">=</span> ListBuffer<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>

    <span class="token comment">//（2）向集合中添加数据</span>
    buffer<span class="token punctuation">.</span>+<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    buffer<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
    buffer<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>

        <span class="token comment">//（3）打印集合数据</span>
        buffer<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">)</span>

    <span class="token comment">//（4）修改数据</span>
    buffer<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">6</span>
    buffer<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span>

    <span class="token comment">//（5）删除数据</span>
    buffer<span class="token punctuation">.</span>-<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    buffer<span class="token punctuation">.</span>-<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    buffer<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="_6-4-set集合"><a href="#_6-4-set集合" class="header-anchor">#</a> 6.4 Set集合</h3> <blockquote><p>默认情况下，Scala使用的是不可变集合，如果你想使用可变集合，需要引用 scala.collection.mutable.Set</p></blockquote> <h4 id="_6-4-1-不可变-set"><a href="#_6-4-1-不可变-set" class="header-anchor">#</a> 6.4.1 不可变 Set</h4> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> TestSet <span class="token punctuation">{</span>

    <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

        <span class="token comment">//（1）Set默认是不可变集合，数据无序</span>
        <span class="token keyword">val</span> set <span class="token operator">=</span> Set<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span>

        <span class="token comment">//（2）数据不可重复</span>
        <span class="token keyword">val</span> set1 <span class="token operator">=</span> Set<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>

        <span class="token comment">//（3）遍历集合</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>x<span class="token keyword">&lt;-</span>set1<span class="token punctuation">)</span><span class="token punctuation">{</span>
            println<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="_6-4-2-可变-set"><a href="#_6-4-2-可变-set" class="header-anchor">#</a> 6.4.2 可变 Set</h4> <ul><li>mutable.Set</li></ul> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> TestSet <span class="token punctuation">{</span>

    <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

        <span class="token comment">//（1）创建可变集合</span>
        <span class="token keyword">val</span> set <span class="token operator">=</span> mutable<span class="token punctuation">.</span>Set<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span>

        <span class="token comment">//（3）集合添加元素</span>
        set <span class="token operator">+=</span> <span class="token number">8</span>

        <span class="token comment">//（4）向集合中添加元素，返回一个新的Set</span>
        <span class="token keyword">val</span> ints <span class="token operator">=</span> set<span class="token punctuation">.</span>+<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>
        println<span class="token punctuation">(</span>ints<span class="token punctuation">)</span>
        println<span class="token punctuation">(</span><span class="token string">&quot;set2=&quot;</span> <span class="token operator">+</span> set<span class="token punctuation">)</span>

        <span class="token comment">//（5）删除数据</span>
        set<span class="token operator">-=</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>

        <span class="token comment">//（2）打印集合</span>
        set<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">)</span>
        println<span class="token punctuation">(</span>set<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="_6-5-map集合"><a href="#_6-5-map集合" class="header-anchor">#</a> 6.5 Map集合</h3> <blockquote><p>Scala中的Map和Java类似，<strong>也是一个散列表</strong>，它存储的内容也是键值对（**key-value）**映射</p></blockquote> <h4 id="_6-5-1-不可变-map"><a href="#_6-5-1-不可变-map" class="header-anchor">#</a> 6.5.1 不可变 Map</h4> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> TestMap <span class="token punctuation">{</span>

    <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token comment">// Map</span>
        <span class="token comment">//（1）创建不可变集合Map</span>
        <span class="token keyword">val</span> map <span class="token operator">=</span> Map<span class="token punctuation">(</span> <span class="token string">&quot;a&quot;</span><span class="token operator">-&gt;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token operator">-&gt;</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token operator">-&gt;</span><span class="token number">3</span> <span class="token punctuation">)</span>

        <span class="token comment">//（3）访问数据</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>elem <span class="token keyword">&lt;-</span> map<span class="token punctuation">.</span>keys<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 使用get访问map集合的数据，会返回特殊类型Option(选项):有值（Some），无值(None)</span>
            println<span class="token punctuation">(</span>elem <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> map<span class="token punctuation">.</span>get<span class="token punctuation">(</span>elem<span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//（4）如果key不存在，返回0</span>
        println<span class="token punctuation">(</span>map<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>getOrElse<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        println<span class="token punctuation">(</span>map<span class="token punctuation">.</span>getOrElse<span class="token punctuation">(</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment">//（2）循环打印</span>
        map<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span><span class="token punctuation">(</span>kv<span class="token punctuation">)</span><span class="token keyword">=&gt;</span><span class="token punctuation">{</span>println<span class="token punctuation">(</span>kv<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="_6-5-2-可变-map"><a href="#_6-5-2-可变-map" class="header-anchor">#</a> 6.5.2 可变 Map</h4> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> TestSet <span class="token punctuation">{</span>

    <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

        <span class="token comment">//（1）创建可变集合</span>
        <span class="token keyword">val</span> map <span class="token operator">=</span> mutable<span class="token punctuation">.</span>Map<span class="token punctuation">(</span> <span class="token string">&quot;a&quot;</span><span class="token operator">-&gt;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token operator">-&gt;</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token operator">-&gt;</span><span class="token number">3</span> <span class="token punctuation">)</span>

        <span class="token comment">//（3）向集合增加数据</span>
        map<span class="token punctuation">.</span>+<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;d&quot;</span><span class="token operator">-&gt;</span><span class="token number">4</span><span class="token punctuation">)</span>

        <span class="token comment">// 将数值4添加到集合，并把集合中原值1返回</span>
        <span class="token keyword">val</span> maybeInt<span class="token operator">:</span> Option<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> map<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
        println<span class="token punctuation">(</span>maybeInt<span class="token punctuation">.</span>getOrElse<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment">//（4）删除数据</span>
        map<span class="token punctuation">.</span>-<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span>

        <span class="token comment">//（5）修改数据</span>
        map<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>
		map<span class="token punctuation">(</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">5</span>

        <span class="token comment">//（2）打印集合</span>
        map<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span><span class="token punctuation">(</span>kv<span class="token punctuation">)</span><span class="token keyword">=&gt;</span><span class="token punctuation">{</span>println<span class="token punctuation">(</span>kv<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="_6-6-元组"><a href="#_6-6-元组" class="header-anchor">#</a> 6.6 元组</h3> <blockquote><p>​	元组也是可以理解为一个容器，可以存放各种相同或不同类型的数据。说的简单点，就是将多个无关的数据封装为一个整体，称为元组。</p> <p>注意：元组中最大只能有22个元素。</p> <p>Map中的键值对其实就是元组,只不过元组的元素个数为2，称之为对偶</p></blockquote> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> TestTuple <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">//（1）声明元组的方式：(元素1，元素2，元素3)</span>
    <span class="token keyword">val</span> tuple<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">Int</span><span class="token punctuation">,</span> <span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Boolean</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token string">&quot;bobo&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>

    <span class="token comment">//（2）访问元组</span>
    <span class="token comment">//（2.1）通过元素的顺序进行访问，调用方式：_顺序号</span>
    println<span class="token punctuation">(</span>tuple<span class="token punctuation">.</span>_1<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>tuple<span class="token punctuation">.</span>_2<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>tuple<span class="token punctuation">.</span>_3<span class="token punctuation">)</span>

    <span class="token comment">//（2.2）通过索引访问数据</span>
    println<span class="token punctuation">(</span>tuple<span class="token punctuation">.</span>productElement<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">//（2.3）通过迭代器访问数据</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>elem <span class="token keyword">&lt;-</span> tuple<span class="token punctuation">.</span>productIterator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//（3）Map中的键值对其实就是元组,只不过元组的元素个数为2，称之为对偶</span>
    <span class="token keyword">val</span> map <span class="token operator">=</span> Map<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token operator">-&gt;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token operator">-&gt;</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token operator">-&gt;</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> map1 <span class="token operator">=</span> Map<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    map<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>tuple<span class="token keyword">=&gt;</span><span class="token punctuation">{</span>println<span class="token punctuation">(</span>tuple<span class="token punctuation">.</span>_1 <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> tuple<span class="token punctuation">.</span>_2<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="_6-7-集合常用函数"><a href="#_6-7-集合常用函数" class="header-anchor">#</a> 6.7 集合常用函数</h3> <h4 id="_6-7-1-基本属性和常用操作"><a href="#_6-7-1-基本属性和常用操作" class="header-anchor">#</a> 6.7.1 基本属性和常用操作</h4> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> TestList <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> list<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>

    <span class="token comment">// 1.获取集合长度</span>
    println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
    <span class="token comment">// 2.获取集合大小，等同于length</span>
    println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>size<span class="token punctuation">)</span>
    <span class="token comment">// 3.循环遍历</span>
    list<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">)</span>
    <span class="token comment">// 4.迭代器</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>elem <span class="token keyword">&lt;-</span> list<span class="token punctuation">.</span>iterator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 5.生成字符串</span>
    println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 6.是否包含</span>
    println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>contains<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token comment">// 7.过滤</span>
    println<span class="token punctuation">(</span>list1<span class="token punctuation">.</span>filter<span class="token punctuation">(</span>a<span class="token keyword">=&gt;</span>a<span class="token punctuation">.</span>isInstanceOf<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>filter<span class="token punctuation">(</span>_<span class="token punctuation">.</span>isInstanceOf<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>map<span class="token punctuation">(</span>_<span class="token punctuation">.</span>asInstanceOf<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">)</span>
    List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>collect <span class="token punctuation">{</span> <span class="token keyword">case</span> x<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token keyword">=&gt;</span> x <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h4 id="_6-7-2-衍生集合"><a href="#_6-7-2-衍生集合" class="header-anchor">#</a> 6.7.2 衍生集合</h4> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> list<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token comment">// 1. 获取集合的头</span>
    println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>head<span class="token punctuation">)</span>
    <span class="token comment">// 2.获取集合尾（不是头的就是尾）</span>
    println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>tail<span class="token punctuation">)</span>
    <span class="token comment">// 3.获取集合最后一个数据</span>
    println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>last<span class="token punctuation">)</span>
    <span class="token comment">// 4.集合初始数据</span>
    println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>init<span class="token punctuation">)</span>
    <span class="token comment">// 5.反转</span>
    println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>reverse<span class="token punctuation">)</span>
    <span class="token comment">// 6.取前（后）n个元素</span>
    print<span class="token punctuation">(</span>list<span class="token punctuation">.</span>take<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token punctuation">)</span>
    print<span class="token punctuation">(</span>list<span class="token punctuation">.</span>takeRight<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 7.去掉前（后）n个元素</span>
    println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>dropRight<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 8.并集</span>
    println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>union<span class="token punctuation">(</span>List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 9.交集</span>
    println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>intersect<span class="token punctuation">(</span>List<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 10.差集</span>
    println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>diff<span class="token punctuation">(</span>List<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 11.拉链  注：如果两个集合的元素个数不相等，那么会将同等数量的数据进行拉链，多余的数据省略不用</span>
    println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>zip<span class="token punctuation">(</span>List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 12.滑窗</span>
    list<span class="token punctuation">.</span>sliding<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">)</span>
<span class="token comment">//    list.iterator.foreach(println)</span>
<span class="token comment">//    list.foreach(println)</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h4 id="_6-7-3-集合计算初级函数"><a href="#_6-7-3-集合计算初级函数" class="header-anchor">#</a> 6.7.3 集合计算初级函数</h4> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">val</span> list<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
  <span class="token comment">// 1.求和</span>
  println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>sum<span class="token punctuation">)</span>
  <span class="token comment">// 2.求乘积</span>
  println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>product<span class="token punctuation">)</span>
  <span class="token comment">// 3.最大值</span>
  println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>max<span class="token punctuation">)</span>
  <span class="token comment">// 4.最小值</span>
  println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>min<span class="token punctuation">)</span>
  <span class="token comment">// 5.排序</span>
  <span class="token comment">// 按照元素大小排序</span>
  println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>sortBy<span class="token punctuation">(</span>x <span class="token keyword">=&gt;</span> x<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token comment">// 按照元素的绝对值大小排序</span>
  println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>sortBy<span class="token punctuation">(</span>x <span class="token keyword">=&gt;</span> x<span class="token punctuation">.</span>abs<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token comment">// 按元素大小升序排序</span>
  println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>sortWith<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> x <span class="token operator">&lt;</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token comment">// 按元素大小降序排序</span>
  println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>sortWith<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> x <span class="token operator">&gt;</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><blockquote><ol><li>sorted：对一个集合进行自然排序，通过传递隐式的 Ordering</li> <li>sortBy：对一个属性或多个属性进行排序，通过它的类型</li> <li>sortWith：基于函数的排序，通过一个comparator函数，实现自定义排序的逻辑</li></ol></blockquote> <h4 id="_6-7-4-集合计算高级函数"><a href="#_6-7-4-集合计算高级函数" class="header-anchor">#</a> 6.7.4 集合计算高级函数</h4> <blockquote><ol><li>过滤：遍历一个集合并从中获取满足指定条件的元素组成一个新的集合</li> <li>转化/映射（map）：将集合中的每一个元素映射到某一个函数</li> <li>扁平化（flatten）</li> <li>扁平化+映射：flatMap相当于先进行map操作，再进行flatten操作集合中的每个元素的子元素映射到某个函数并返回新集合</li> <li>分组（group）：按照指定的规则对集合的元素进行分组</li> <li>归约（reduce）</li> <li>折叠（fold）</li></ol></blockquote> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">val</span> list<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>
  <span class="token keyword">val</span> nestedList<span class="token operator">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span>List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> List<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span> List<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">val</span> wordList<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hello atguigu&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hello scala&quot;</span><span class="token punctuation">)</span>

  <span class="token comment">// 1.过滤</span>
  println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>filter<span class="token punctuation">(</span>x <span class="token keyword">=&gt;</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token comment">// 2.转化</span>
  println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>map<span class="token punctuation">(</span>x <span class="token keyword">=&gt;</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token comment">// 3.扁平化</span>
  println<span class="token punctuation">(</span>nestedList<span class="token punctuation">.</span>flatten<span class="token punctuation">)</span>
  <span class="token comment">// 4.扁平化+映射</span>
  println<span class="token punctuation">(</span>wordList<span class="token punctuation">.</span>flatMap<span class="token punctuation">(</span>x <span class="token keyword">=&gt;</span> x<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  println<span class="token punctuation">(</span><span class="token string">&quot;===============================================&quot;</span><span class="token punctuation">)</span>
  println<span class="token punctuation">(</span>wordList<span class="token punctuation">.</span>map<span class="token punctuation">(</span>x <span class="token keyword">=&gt;</span> x<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>toList<span class="token punctuation">)</span><span class="token punctuation">)</span>
  println<span class="token punctuation">(</span>wordList<span class="token punctuation">.</span>map<span class="token punctuation">(</span>x <span class="token keyword">=&gt;</span> x<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>toList<span class="token punctuation">)</span><span class="token punctuation">.</span>flatten<span class="token punctuation">)</span>
  <span class="token comment">// 5.分组</span>
  println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>groupBy<span class="token punctuation">(</span>x <span class="token keyword">=&gt;</span> x <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>Reduce 方法</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">val</span> list <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>

  <span class="token comment">// 将数据两两结合，实现运算规则</span>
  <span class="token comment">// ((1-2)-3-4) = -8</span>
  <span class="token keyword">val</span> i<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> list<span class="token punctuation">.</span>reduce<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> x <span class="token operator">-</span> y<span class="token punctuation">)</span>
  println<span class="token punctuation">(</span><span class="token string">&quot;i = &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span>

  <span class="token comment">// 同源码的角度，reduce底层调用的其实就是 reduceLeft</span>
  <span class="token comment">// val i = list.reduceLeft((x,y) =&gt; x - y)</span>

  <span class="token comment">// ((4-3)-2-1) = -2</span>
  <span class="token keyword">val</span> i1 <span class="token operator">=</span> list<span class="token punctuation">.</span>reduceRight<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> x<span class="token operator">-</span>y<span class="token punctuation">)</span>
  println<span class="token punctuation">(</span>i1<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>Fold方法</p> <blockquote><p>Fold折叠：化简的一种特殊情况。</p></blockquote> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

  <span class="token keyword">val</span> list <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
  <span class="token comment">// fold方法使用了函数柯里化，存在两个参数列表</span>
  <span class="token comment">// 第一个参数列表为：零值（初始值）</span>
  <span class="token comment">// 第二个参数列表为：简化规则</span>

  <span class="token comment">// fold 底层其实为 foldLeft</span>
  <span class="token keyword">val</span> i <span class="token operator">=</span> list<span class="token punctuation">.</span>foldLeft<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> x <span class="token operator">-</span> y<span class="token punctuation">)</span>
  <span class="token keyword">val</span> i1 <span class="token operator">=</span> list<span class="token punctuation">.</span>foldRight<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> x <span class="token operator">-</span> y<span class="token punctuation">)</span>
  println<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  println<span class="token punctuation">(</span>i1<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>两个集合合并：</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 两个Map的数据合并</span>
  <span class="token keyword">val</span> map1 <span class="token operator">=</span> mutable<span class="token punctuation">.</span>Map<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token operator">-&gt;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token operator">-&gt;</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token operator">-&gt;</span><span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token keyword">val</span> map2 <span class="token operator">=</span> mutable<span class="token punctuation">.</span>Map<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token operator">-&gt;</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token operator">-&gt;</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span><span class="token operator">-&gt;</span><span class="token number">6</span><span class="token punctuation">)</span>

  <span class="token keyword">val</span> map3<span class="token operator">:</span> mutable<span class="token punctuation">.</span>Map<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> map2<span class="token punctuation">.</span>foldLeft<span class="token punctuation">(</span>map1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>map<span class="token punctuation">,</span> kv<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">val</span> k <span class="token operator">=</span> kv<span class="token punctuation">.</span>_1
      <span class="token keyword">val</span> v <span class="token operator">=</span> kv<span class="token punctuation">.</span>_2

      map<span class="token punctuation">(</span>k<span class="token punctuation">)</span> <span class="token operator">=</span> map<span class="token punctuation">.</span>getOrElse<span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> v

      map
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  println<span class="token punctuation">(</span>map3<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="_6-7-5-wordcount-common"><a href="#_6-7-5-wordcount-common" class="header-anchor">#</a> 6.7.5 WordCount（common）</h4> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> CommonWC <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 单词计数：将集合中出现的相同的单词，进行计数，取计数排名前三的结果</span>
    <span class="token keyword">val</span> stringList <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token string">&quot;Hello Scala Hbase kafka&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Hello Scala Hbase&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Hello Scala&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span>

    <span class="token comment">// 1.将每一个字符串转换成一个一个单词</span>
    <span class="token keyword">val</span> wordList<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> stringList<span class="token punctuation">.</span>flatMap<span class="token punctuation">(</span>x <span class="token keyword">=&gt;</span> x<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">// 2.将相同的单词放置在一起</span>
    <span class="token keyword">val</span> wordToWordsMap<span class="token operator">:</span> Map<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> List<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> wordList<span class="token punctuation">.</span>groupBy<span class="token punctuation">(</span>x <span class="token keyword">=&gt;</span> x<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>wordToWordsMap<span class="token punctuation">)</span>

    <span class="token comment">// 3.对相同的单词进行计数</span>
    <span class="token comment">// (word, list) =&gt; (word, count)</span>
    <span class="token keyword">val</span> wordToWordsCount<span class="token operator">:</span> Map<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> wordToWordsMap<span class="token punctuation">.</span>map<span class="token punctuation">(</span>tuple <span class="token keyword">=&gt;</span> <span class="token punctuation">(</span>tuple<span class="token punctuation">.</span>_1<span class="token punctuation">,</span> tuple<span class="token punctuation">.</span>_2<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">// 4.对计数完成后的结果进行排序（降序）</span>
    <span class="token keyword">val</span> sortList<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> wordToWordsCount<span class="token punctuation">.</span>toList<span class="token punctuation">.</span>sortWith <span class="token punctuation">{</span>
      <span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token punctuation">{</span>
        left<span class="token punctuation">.</span>_2 <span class="token operator">&gt;</span> right<span class="token punctuation">.</span>_2
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 5.对排序后的结果取前3名</span>
    <span class="token keyword">val</span> resultList<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> sortList<span class="token punctuation">.</span>take<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

    println<span class="token punctuation">(</span>resultList<span class="token punctuation">)</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h4 id="_6-7-6-wordcount-complex"><a href="#_6-7-6-wordcount-complex" class="header-anchor">#</a> 6.7.6 WordCount（complex）</h4> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> ComplexWC <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 第一种方式（不通用）</span>
    <span class="token keyword">val</span> tupleList <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;Hello Scala Spark World &quot;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;Hello Scala Spark&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;Hello Scala&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">val</span> stringList<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> tupleList<span class="token punctuation">.</span>map<span class="token punctuation">(</span>t<span class="token keyword">=&gt;</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>_1 <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span> <span class="token operator">*</span> t<span class="token punctuation">.</span>_2<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>stringList<span class="token punctuation">)</span>

    <span class="token comment">// val words: List[String] = stringList.flatMap(s=&gt;s.split(&quot; &quot;))</span>
    <span class="token keyword">val</span> words<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> stringList<span class="token punctuation">.</span>flatMap<span class="token punctuation">(</span>_<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">// 在map中，如果传进来什么就返回什么，不要用_省略</span>
    <span class="token keyword">val</span> groupMap<span class="token operator">:</span> Map<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> List<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> words<span class="token punctuation">.</span>groupBy<span class="token punctuation">(</span>word<span class="token keyword">=&gt;</span>word<span class="token punctuation">)</span>
    <span class="token comment">// val groupMap1: Map[String, List[String]] = words.groupBy(_)</span>
    println<span class="token punctuation">(</span>groupMap<span class="token punctuation">)</span>

    <span class="token keyword">val</span> stringToInt<span class="token operator">:</span> Map<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> groupMap<span class="token punctuation">.</span>map<span class="token punctuation">(</span>t<span class="token keyword">=&gt;</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>_1<span class="token punctuation">,</span>t<span class="token punctuation">.</span>_2<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>stringToInt<span class="token punctuation">)</span>

    <span class="token keyword">val</span> wordCountList<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> stringToInt<span class="token punctuation">.</span>toList<span class="token punctuation">.</span>sortWith <span class="token punctuation">{</span>
      <span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token punctuation">{</span>
        left<span class="token punctuation">.</span>_2 <span class="token operator">&gt;</span> right<span class="token punctuation">.</span>_2
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">.</span>take<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

    println<span class="token punctuation">(</span>wordCountList<span class="token punctuation">)</span>
    <span class="token comment">// simple version</span>
    <span class="token keyword">val</span> wordCountList1<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> tupleList<span class="token punctuation">.</span>map<span class="token punctuation">(</span>t<span class="token keyword">=&gt;</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>_1 <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span> <span class="token operator">*</span> t<span class="token punctuation">.</span>_2<span class="token punctuation">)</span><span class="token punctuation">.</span>flatMap<span class="token punctuation">(</span>_<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>groupBy<span class="token punctuation">(</span>word<span class="token keyword">=&gt;</span>word<span class="token punctuation">)</span><span class="token punctuation">.</span>map<span class="token punctuation">(</span>t<span class="token keyword">=&gt;</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>_1<span class="token punctuation">,</span> t<span class="token punctuation">.</span>_2<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>toList<span class="token punctuation">.</span>sortWith<span class="token punctuation">{</span>
      <span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token punctuation">{</span>
        left<span class="token punctuation">.</span>_2 <span class="token operator">&gt;</span> right<span class="token punctuation">.</span>_2
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">.</span>take<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>wordCountList1<span class="token punctuation">)</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h4 id="_6-7-7-woudcount-complex-2"><a href="#_6-7-7-woudcount-complex-2" class="header-anchor">#</a> 6.7.7 WoudCount（complex-2）</h4> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> ComplexWC2 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> tuples <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;Hello Scala Spark World&quot;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;Hello Scala Spark&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;Hello Scala&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">// (Hello,4),(Scala,4),(Spark,4),(World,4)</span>
    <span class="token comment">// (Hello,3),(Scala,3),(Spark,3)</span>
    <span class="token comment">// (Hello,2),(Scala,2)</span>
    <span class="token comment">// (Hello,1)</span>
    <span class="token keyword">val</span> wordToCountList<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> tuples<span class="token punctuation">.</span>flatMap <span class="token punctuation">{</span>
      t <span class="token keyword">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> strings<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> t<span class="token punctuation">.</span>_1<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span>
        strings<span class="token punctuation">.</span>map<span class="token punctuation">(</span>word <span class="token keyword">=&gt;</span> <span class="token punctuation">(</span>word<span class="token punctuation">,</span> t<span class="token punctuation">.</span>_2<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span>wordToCountList<span class="token punctuation">)</span>
    <span class="token comment">// Hello, List((Hello,4), (Hello,3), (Hello,2), (Hello,1))</span>
    <span class="token comment">// Scala, List((Scala,4), (Scala,3), (Scala,2)</span>
    <span class="token comment">// Spark, List((Spark,4), (Spark,3)</span>
    <span class="token comment">// Word, List((Word,4))</span>
    <span class="token keyword">val</span> wordToTupleMap<span class="token operator">:</span> Map<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> List<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> wordToCountList<span class="token punctuation">.</span>groupBy<span class="token punctuation">(</span>t<span class="token keyword">=&gt;</span>t<span class="token punctuation">.</span>_1<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>wordToTupleMap<span class="token punctuation">)</span>

    <span class="token keyword">val</span> stringToInts<span class="token operator">:</span> Map<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> wordToTupleMap<span class="token punctuation">.</span>mapValues <span class="token punctuation">{</span>
      datas <span class="token keyword">=&gt;</span> datas<span class="token punctuation">.</span>map<span class="token punctuation">(</span>t <span class="token keyword">=&gt;</span> t<span class="token punctuation">.</span>_2<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span>stringToInts<span class="token punctuation">)</span>

    <span class="token keyword">val</span> ints<span class="token operator">:</span>Map<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> stringToInts<span class="token punctuation">.</span>mapValues<span class="token punctuation">(</span>datas <span class="token keyword">=&gt;</span> datas<span class="token punctuation">.</span>reduce<span class="token punctuation">(</span>_<span class="token operator">+</span>_<span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>ints<span class="token punctuation">)</span>

    <span class="token comment">/*
    val wordToCountMap: Map[String, List[Int]] = wordToTupleMap.map {
        t =&gt; {
            (t._1, t._2.map(t1 =&gt; t1._2))
        }
    }

    val wordToTotalCountMap: Map[String, Int] = wordToCountMap.map(t=&gt;(t._1, t._2.sum))
    println(wordToTotalCountMap)
    */</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h3 id="_6-8-队列"><a href="#_6-8-队列" class="header-anchor">#</a> 6.8 队列</h3> <blockquote><p>Scala 也提供了队列（Queue）的数据结构，队列的特点就是先进先出。进队和出队的方法分别为 enqueue和 dequeue。</p></blockquote> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> TestQueue <span class="token punctuation">{</span>

    <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

        <span class="token keyword">val</span> que <span class="token operator">=</span> <span class="token keyword">new</span> mutable<span class="token punctuation">.</span>Queue<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

        que<span class="token punctuation">.</span>enqueue<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span>

        println<span class="token punctuation">(</span>que<span class="token punctuation">.</span>dequeue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        println<span class="token punctuation">(</span>que<span class="token punctuation">.</span>dequeue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        println<span class="token punctuation">(</span>que<span class="token punctuation">.</span>dequeue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_6-9-并行集合"><a href="#_6-9-并行集合" class="header-anchor">#</a> 6.9 并行集合</h3> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> TestPar <span class="token punctuation">{</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token keyword">val</span> result1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span> to <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span>map<span class="token punctuation">{</span><span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> Thread<span class="token punctuation">.</span>currentThread<span class="token punctuation">.</span>getName<span class="token punctuation">}</span>
    <span class="token keyword">val</span> result2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span> to <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span>par<span class="token punctuation">.</span>map<span class="token punctuation">(</span>_ <span class="token keyword">=&gt;</span> Thread<span class="token punctuation">.</span>currentThread<span class="token punctuation">.</span>getName<span class="token punctuation">)</span>

    println<span class="token punctuation">(</span>result1<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>result2<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="_7-模式匹配"><a href="#_7-模式匹配" class="header-anchor">#</a> 7. 模式匹配</h2> <p>样例代码：</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> TestMatchCase2<span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">def</span> abs<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">=</span> x <span class="token keyword">match</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> i<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token keyword">if</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token keyword">=&gt;</span> i
      <span class="token keyword">case</span> j<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token keyword">if</span> j <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">=&gt;</span> <span class="token operator">-</span>j
      <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> <span class="token string">&quot;type illegal&quot;</span>
    <span class="token punctuation">}</span>

    println<span class="token punctuation">(</span>abs<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">object</span> TestMatchCase3<span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span>describe<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">def</span> describe<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Any</span><span class="token punctuation">)</span> <span class="token operator">=</span> x <span class="token keyword">match</span> <span class="token punctuation">{</span>

    <span class="token keyword">case</span> <span class="token number">5</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;Int five&quot;</span>

    <span class="token keyword">case</span> <span class="token string">&quot;hello&quot;</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;String hello&quot;</span>

    <span class="token keyword">case</span> <span class="token boolean">true</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;Boolean true&quot;</span>

    <span class="token keyword">case</span> <span class="token string">'+'</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;Char +&quot;</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">object</span> TestCase4<span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span>describe<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">//泛型擦除</span>
    println<span class="token punctuation">(</span>describe<span class="token punctuation">(</span>List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">//数组例外，可保留泛型</span>
    println<span class="token punctuation">(</span>describe<span class="token punctuation">(</span>Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>describe<span class="token punctuation">(</span>Array<span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">def</span> describe<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Any</span><span class="token punctuation">)</span> <span class="token operator">=</span> x <span class="token keyword">match</span> <span class="token punctuation">{</span>

    <span class="token keyword">case</span> i<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;Int&quot;</span>
    <span class="token keyword">case</span> s<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;String hello&quot;</span>
    <span class="token keyword">case</span> m<span class="token operator">:</span> List<span class="token punctuation">[</span>_<span class="token punctuation">]</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;List&quot;</span>
    <span class="token keyword">case</span> c<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;Array[Int]&quot;</span>
    <span class="token comment">//case l: Int =&gt; l.asInstanceOf[String]</span>
    <span class="token comment">//case l: Int =&gt; l.isInstanceOf[String]</span>
    <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> <span class="token string">&quot;nonono&quot;</span>
    <span class="token keyword">case</span> someThing <span class="token keyword">=&gt;</span> <span class="token string">&quot;something else &quot;</span> <span class="token operator">+</span> someThing
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">object</span> TestMatchArray <span class="token punctuation">{</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>arr <span class="token keyword">&lt;-</span> Array<span class="token punctuation">(</span>Array<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Array<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Array<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 对一个数组集合进行遍历</span>

      <span class="token keyword">val</span> result <span class="token operator">=</span> arr <span class="token keyword">match</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> Array<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;0&quot;</span> <span class="token comment">//匹配Array(0) 这个数组</span>

        <span class="token keyword">case</span> Array<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> x <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> y <span class="token comment">//匹配有两个元素的数组，然后将将元素值赋给对应的x,y</span>

        <span class="token keyword">case</span> Array<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> _<span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;以0开头的数组&quot;</span> <span class="token comment">//匹配以0开头和数组</span>

        <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> <span class="token string">&quot;something else&quot;</span>
      <span class="token punctuation">}</span>

      println<span class="token punctuation">(</span><span class="token string">&quot;result = &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">object</span> TestMatchList <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token comment">//list是一个存放List集合的数组</span>
    <span class="token comment">//请思考，如果要匹配 List(88) 这样的只含有一个元素的列表,并原值返回.应该怎么写</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>list <span class="token keyword">&lt;-</span> Array<span class="token punctuation">(</span>List<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> List<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> List<span class="token punctuation">(</span><span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

      <span class="token keyword">val</span> result <span class="token operator">=</span> list <span class="token keyword">match</span> <span class="token punctuation">{</span>

        <span class="token keyword">case</span> List<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;0&quot;</span> <span class="token comment">//匹配List(0)</span>
        <span class="token keyword">case</span> List<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> x <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> y <span class="token comment">//匹配有两个元素的List</span>
        <span class="token keyword">case</span> List<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> _<span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;0 ...&quot;</span>
        <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> <span class="token string">&quot;something else&quot;</span>
      <span class="token punctuation">}</span>

      println<span class="token punctuation">(</span>result<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">object</span> TestMatchList2 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token keyword">val</span> list<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>
    list <span class="token keyword">match</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> first <span class="token operator">::</span> second <span class="token operator">::</span> rest <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span>first <span class="token operator">+</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">+</span> second <span class="token operator">+</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">+</span> rest<span class="token punctuation">)</span>
      <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;something else&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">object</span> TestMatchTuple <span class="token punctuation">{</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token comment">//对一个元组集合进行遍历</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>tuple <span class="token keyword">&lt;-</span> Array<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

      <span class="token keyword">val</span> result <span class="token operator">=</span> tuple <span class="token keyword">match</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> _<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;0 ...&quot;</span> <span class="token comment">//是第一个元素是0的元组</span>
        <span class="token keyword">case</span> <span class="token punctuation">(</span>y<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> y <span class="token operator">+</span> <span class="token string">&quot;0&quot;</span> <span class="token comment">// 匹配后一个元素是0的对偶元组</span>
        <span class="token keyword">case</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> a <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> b
        <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> <span class="token string">&quot;something else&quot;</span> <span class="token comment">//默认</span>

      <span class="token punctuation">}</span>
      println<span class="token punctuation">(</span>result<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br></div></div><h3 id="_7-3-模式匹配类型"><a href="#_7-3-模式匹配类型" class="header-anchor">#</a> 7.3 模式匹配类型</h3> <h4 id="_7-3-6-匹配对象及样例类"><a href="#_7-3-6-匹配对象及样例类" class="header-anchor">#</a> 7.3.6 匹配对象及样例类</h4> <p>匹配对象：</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">class</span> User<span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token keyword">val</span> age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span>

<span class="token keyword">object</span> User<span class="token punctuation">{</span>

    <span class="token keyword">def</span> apply<span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> User <span class="token operator">=</span> <span class="token keyword">new</span> User<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>

    <span class="token keyword">def</span> unapply<span class="token punctuation">(</span>user<span class="token operator">:</span> User<span class="token punctuation">)</span><span class="token operator">:</span> Option<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>user <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
            None
        Else  
            Some<span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">,</span> user<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">object</span> TestMatchUnapply <span class="token punctuation">{</span>
    <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> user<span class="token operator">:</span> User <span class="token operator">=</span> User<span class="token punctuation">(</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span>
        <span class="token keyword">val</span> result <span class="token operator">=</span> user <span class="token keyword">match</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> User<span class="token punctuation">(</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;yes&quot;</span>
            <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> <span class="token string">&quot;no&quot;</span>
        <span class="token punctuation">}</span>

        println<span class="token punctuation">(</span>result<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><blockquote><ul><li>val user = User(&quot;zhangsan&quot;, 11), 该语句在执行时，实际调用的是User伴生对象中的apply方法，因此不用 new 关键字就能构造出相应的对象。</li> <li>当将User(&quot;zhangsan&quot;, 11)写在case后时[case User(&quot;zhangsan&quot;, 11) =&gt; &quot;yes&quot;]，会默认调用 unapply方法(对象提取器),user作为unapply方法的参数，unapply方法将user对象的name和age属性提取出来，与 User(&quot;zhangsan&quot;, 11)中的属性进行匹配</li> <li>case中对象的 unapply 方法(提取器)返回Some，且所有属性均一致，才算匹配成功，属性不一致，或返回None，则匹配失败</li> <li>若只提取对象的一个属性，则提取器为 unapply(obj：Obj)：Option[T]</li> <li>若提取对象的多个属性，则提取器为 unapply(obj：Obj)：Option[(T1,T2,T3...)]</li> <li>若提取对象的可变个属性，则提取器为 unapplySeq(obj：Obj)：Option[Seq[T]]</li></ul></blockquote> <p>样例类：</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">case</span> <span class="token keyword">class</span> Person <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><ul><li>样例类依然是类，和普通类相比，只是其自动生成了伴生对象，并且伴生对象中自动生成提供了一些常用的方法，如 apply、unapply、toString、equals、hashCode和 copy。</li> <li>样例类是为模式匹配而优化的类，因为其默认提供了 unapply 方法，因此，样例类可以直接使用模式匹配，而无需自己实现 unapply方法。</li> <li>构造器中的每一个参数都成为 val，除非它被显示地声明为 var（不建议这样做）</li></ul></blockquote> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">case</span> <span class="token keyword">class</span> UserNo<span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span>

<span class="token keyword">object</span> TestMatchUnapply111 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> user<span class="token operator">:</span> UserNo <span class="token operator">=</span> UserNo<span class="token punctuation">(</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> result <span class="token operator">=</span> user <span class="token keyword">match</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> UserNo<span class="token punctuation">(</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;yes&quot;</span>
      <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> <span class="token string">&quot;no&quot;</span>
    <span class="token punctuation">}</span>

    println<span class="token punctuation">(</span>result<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_7-4-变量声明中的模式匹配"><a href="#_7-4-变量声明中的模式匹配" class="header-anchor">#</a> 7.4 变量声明中的模式匹配</h3> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">case</span> <span class="token keyword">class</span> Person11122 <span class="token punctuation">(</span>cName<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> cAge<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span>

<span class="token keyword">object</span> TestMatchVariable <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token keyword">val</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>s<span class="token string">&quot;x=$x,y=$y&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">val</span> Array<span class="token punctuation">(</span>first<span class="token punctuation">,</span> second<span class="token punctuation">,</span> _<span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">=</span> Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>s<span class="token string">&quot;first=$first,second=$second&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">val</span> Person11122<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token operator">=</span> Person11122<span class="token punctuation">(</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>s<span class="token string">&quot;name=$name,age=$age&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_7-5-for表达式中的模式匹配"><a href="#_7-5-for表达式中的模式匹配" class="header-anchor">#</a> 7.5 for表达式中的模式匹配</h3> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> TestMatchFor <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token keyword">val</span> map <span class="token operator">=</span> Map<span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;C&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token keyword">&lt;-</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//直接将map中的k-v遍历出来</span>
      println<span class="token punctuation">(</span>k <span class="token operator">+</span> <span class="token string">&quot; -&gt; &quot;</span> <span class="token operator">+</span> v<span class="token punctuation">)</span> <span class="token comment">//3个</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;----------------------&quot;</span><span class="token punctuation">)</span>

    <span class="token comment">//遍历value=0的 k-v ,如果v不是0,过滤</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">&lt;-</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span>k <span class="token operator">+</span> <span class="token string">&quot; --&gt; &quot;</span> <span class="token operator">+</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// B-&gt;0</span>
    <span class="token punctuation">}</span>

    println<span class="token punctuation">(</span><span class="token string">&quot;----------------------&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">//if v == 0 是一个过滤的条件</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token keyword">&lt;-</span> map <span class="token keyword">if</span> v <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span>k <span class="token operator">+</span> <span class="token string">&quot; ---&gt; &quot;</span> <span class="token operator">+</span> v<span class="token punctuation">)</span> <span class="token comment">// A-&gt;1 和 c-&gt;33</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_7-6-偏函数中的模式匹配"><a href="#_7-6-偏函数中的模式匹配" class="header-anchor">#</a> 7.6 偏函数中的模式匹配</h3> <blockquote><p>​	偏函数也是函数的一种，通过偏函数我们可以方便的对输入参数做更精确的检查。例如该偏函数的输入类型为 List[Int]，而我们需要的是第一个元素是 0 的集合，这就是通过模式匹配实现的。</p></blockquote> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">val</span> second<span class="token operator">:</span> PartialFunction<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Option<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> x <span class="token operator">::</span> y <span class="token operator">::</span> _ <span class="token keyword">=&gt;</span> Some<span class="token punctuation">(</span>y<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>​	偏函数不能像second(List(1,2,3))这样直接使用，因为这样会直接调用apply方法，而应该调用applyOrElse方法，如下</p> <p>​	second.applyOrElse(List(1,2,3), (_: List[Int]) =&gt; None)</p> <p>​	applyOrElse方法的逻辑为 <strong>if</strong> (<strong>ifDefinedAt(<strong>list</strong>)</strong>) <strong>apply(<strong>list</strong>)</strong> else default。如果输入参数满足条件，即isDefinedAt返回true，则执行apply方法，否则执行defalut方法，default方法为参数不满足要求的处理逻辑。</p></blockquote> <h4 id="_7-6-1-集合匹配及过滤"><a href="#_7-6-1-集合匹配及过滤" class="header-anchor">#</a> 7.6.1 集合匹配及过滤</h4> <p>将 List(1, 2, 3, 4, 5, 6, &quot;test&quot;)中的 Int 类型的元素加 1，并去掉字符串。</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> TestPartial<span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> list <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> list1 <span class="token operator">=</span> list<span class="token punctuation">.</span>map <span class="token punctuation">{</span>a <span class="token keyword">=&gt;</span> a <span class="token keyword">match</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> i<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token keyword">=&gt;</span> i <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">case</span> s<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token keyword">=&gt;</span>s <span class="token operator">+</span> <span class="token number">1</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// println(list1.toString())</span>
    println<span class="token punctuation">(</span>list1<span class="token punctuation">.</span>filter<span class="token punctuation">(</span>a<span class="token keyword">=&gt;</span>a<span class="token punctuation">.</span>isInstanceOf<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>filter<span class="token punctuation">(</span>_<span class="token punctuation">.</span>isInstanceOf<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>map<span class="token punctuation">(</span>_<span class="token punctuation">.</span>asInstanceOf<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">)</span>
    List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>collect <span class="token punctuation">{</span> <span class="token keyword">case</span> x<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token keyword">=&gt;</span> x <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="_8-异常"><a href="#_8-异常" class="header-anchor">#</a> 8. 异常</h2> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> TestException <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@throws</span><span class="token punctuation">(</span>classOf<span class="token punctuation">[</span>NumberFormatException<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token comment">//throw new Exception</span>
      <span class="token keyword">var</span> n<span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> ex<span class="token operator">:</span> ArithmeticException<span class="token keyword">=&gt;</span><span class="token punctuation">{</span>
        <span class="token comment">// 发生算术异常</span>
        println<span class="token punctuation">(</span><span class="token string">&quot;发生算术异常&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">case</span> ex<span class="token operator">:</span> Exception<span class="token keyword">=&gt;</span><span class="token punctuation">{</span>
        <span class="token comment">// 对异常处理</span>
        println<span class="token punctuation">(</span><span class="token string">&quot;发生了异常1&quot;</span><span class="token punctuation">)</span>
        println<span class="token punctuation">(</span><span class="token string">&quot;发生了异常2&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;finally&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><blockquote><ul><li>将可能发生异常的代码封装在 try 块中。在 try 块之后使用了一个 catch 处理程序来捕获异常。如果发生任何异常，catch 处理将处理它，程序将不会异常终止。</li> <li>Scala 的异常的工作机制和 Java 一样，但是 Scala 没有 “checked（编译期）”异常，即 Scala 没有编译异常这个概念，异常都是在运行的时候捕获处理。</li> <li>异常捕获的机制与其他语言中一样，如果有异常发生，catch 子句是按次序捕捉的。因此，在 catch 子句中，越具体的异常越要靠前，越普遍的异常越靠后，如果把越普遍的异常写在前，把具体的异常写在后，在 Scala 中也不会报错，但是这样是非常不好的编码风格。</li> <li>finally 子句用于执行不管是正常处理还是有异常发生时都需要执行的步骤，一般用于对象的清理工作，这点和 Java 一样。</li> <li>用 throw 关键字，抛出一个异常对象。所有异常都是 Throwable的子类型。throw 表达式是有类型的，就是 Nothing，因为 Nothing是所有类型的子类型，所以 throw 表达式可以用在需要类型的地方。</li> <li>在 Scala中，可以使用 throws 注解来声明异常</li></ul></blockquote> <h2 id="_9-隐式转换"><a href="#_9-隐式转换" class="header-anchor">#</a> 9. 隐式转换</h2> <blockquote><p>​	当编译器第一次编译失败的时候，会在当前的环境中查找能让代码编译通过的方法，用于将类型进行转换，实现二次编译</p></blockquote> <h3 id="_9-1-隐式函数"><a href="#_9-1-隐式函数" class="header-anchor">#</a> 9.1 隐式函数</h3> <blockquote><ul><li><p>隐式转换可以在不需要修改任何代码的情况下，扩展某个类的功能。</p></li> <li><p>当想调用对象功能时，如果编译错误，那么编译器会尝试在当前作用域范围内查找能调用对应功能的转换规则，这个调用过程是由编译器完成的，所以称之为隐式转换。也称之为自动转换</p></li></ul></blockquote> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">class</span> MyRichInt<span class="token punctuation">(</span><span class="token keyword">val</span> <span class="token keyword">self</span><span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">def</span> myMax<span class="token punctuation">(</span>i<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">self</span> <span class="token operator">&lt;</span> i<span class="token punctuation">)</span> println<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">else</span> println<span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> myMin<span class="token punctuation">(</span>i<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">self</span> <span class="token operator">&lt;</span> i<span class="token punctuation">)</span> <span class="token keyword">self</span> <span class="token keyword">else</span> i
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">object</span> TestImplicitFunction <span class="token punctuation">{</span>
  <span class="token comment">// 使用implicit关键字声明的函数称之为隐式函数</span>
  <span class="token keyword">implicit</span> <span class="token keyword">def</span> convert<span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> MyRichInt <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span> MyRichInt<span class="token punctuation">(</span>arg<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 当想调用对象功能时，如果编译错误，那么编译器会尝试在当前作用域范围内查找能调用对应功能的转换规则，</span>
    <span class="token comment">// 这个调用过程是由编译器完成的，所以称之为隐式转换。也称之为自动转换</span>
	<span class="token comment">//  var myRichInt: MyRichInt = new MyRichInt(2)</span>
    <span class="token comment">//  myRichInt.myMax(6)</span>
    println<span class="token punctuation">(</span><span class="token number">2.</span>myMax<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="_9-2-隐式参数"><a href="#_9-2-隐式参数" class="header-anchor">#</a> 9.2 隐式参数</h3> <blockquote><p>​	普通方法或函数中的参数可以通过 implicit 关键字声明为隐式参数，调用该方法时，就可以传入该参数，编译器会在相应的作用域寻找符合条件的隐式值。</p></blockquote> <ul><li>同一个作用域中，相同类型的隐式值只能有一个</li> <li>编译器按照隐式参数的类型去寻找对于类型的隐式值，与隐式值的名称无关</li> <li>隐式参数优先于默认参数</li></ul> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> TestImplicitParameter <span class="token punctuation">{</span>

  <span class="token keyword">implicit</span> <span class="token keyword">val</span> str<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;hello world!&quot;</span>

  <span class="token keyword">def</span> hello<span class="token punctuation">(</span><span class="token keyword">implicit</span> arg<span class="token operator">:</span> <span class="token builtin">String</span><span class="token operator">=</span><span class="token string">&quot;good bey world!&quot;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span>arg<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    hello
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

output：
hello world<span class="token operator">!</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_9-3-隐式类"><a href="#_9-3-隐式类" class="header-anchor">#</a> 9.3 隐式类</h3> <blockquote><p>​	在 Scala2.10 后提供了隐式类，可以使用 implicit 声明类，隐式类非常强大，同样可以扩展类的功能，在集合中隐式类会发挥重要的作用。</p> <ul><li>隐式类所带的构造参数有且只能有一个</li> <li>隐式类必须被定义在 “类” 或 “伴生对象” 或 “包对象” 里，即隐式类不能是顶级的。</li></ul></blockquote> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> TestImplicitClass <span class="token punctuation">{</span>
  <span class="token keyword">implicit</span> <span class="token keyword">class</span> MyRichInt<span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">def</span> myMax<span class="token punctuation">(</span>i<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>arg <span class="token operator">&lt;</span> i<span class="token punctuation">)</span> i <span class="token keyword">else</span> arg
    <span class="token punctuation">}</span>

    <span class="token keyword">def</span> myMin<span class="token punctuation">(</span>i<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>arg <span class="token operator">&lt;</span> i<span class="token punctuation">)</span> arg <span class="token keyword">else</span> i
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token number">1.</span>myMax<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_9-4-隐式解析机制"><a href="#_9-4-隐式解析机制" class="header-anchor">#</a> 9.4 隐式解析机制</h3> <blockquote><ul><li>首先会在当前代码作用域下查找隐式实体（隐式方法、隐式类、隐式对象）</li> <li>如果第一条规则查找隐式实体失败，会继续在隐式参数的类型的作用域里查找。类型的作用域是指与该类型相关联的全部伴生模块（该类型相关联的全部伴生对象以及该类型所在包的包对象）</li></ul></blockquote> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">//（2）如果第一条规则查找隐式实体失败，会继续在隐式参数的类型的作用域里查找。类型的作用域是指与该类型相关联的全部伴生模块，</span>
<span class="token keyword">object</span> TestTransform <span class="token keyword">extends</span> PersonTrait <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token comment">//（1）首先会在当前代码作用域下查找隐式实体（隐式方法、隐式类、隐式对象）</span>
    <span class="token keyword">val</span> teacher <span class="token operator">=</span> <span class="token keyword">new</span> Teacher555<span class="token punctuation">(</span><span class="token punctuation">)</span>
    teacher<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span>
    teacher<span class="token punctuation">.</span>say<span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">class</span> Teacher555 <span class="token punctuation">{</span>
    <span class="token keyword">def</span> eat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;eat...&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">trait</span> PersonTrait <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">object</span> PersonTrait <span class="token punctuation">{</span>
  <span class="token comment">// 隐式类 : 类型1 =&gt; 类型2</span>
  <span class="token keyword">implicit</span> <span class="token keyword">class</span> Person5<span class="token punctuation">(</span>user<span class="token operator">:</span> Teacher555<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">def</span> say<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;say...&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="_10-泛型"><a href="#_10-泛型" class="header-anchor">#</a> 10. 泛型</h2> <p>语法：</p> <ol><li>class MyList[+T]   // 协变</li> <li>class MyList[-T]   // 逆变</li> <li>class MyList[T]   // 不变</li></ol> <blockquote><ul><li>协变：Son 是 Father 的子类，则 MyList[Son] 也作为 MyList[Father] 的 “子类”。</li> <li>逆变：Son 是 Father 的子类，则 MyList[Son] 作为 MyList[Father] 的 “父类”。</li> <li>不变：Son 是 Father 的子类，则 MyList[Son] 与 MyList[Father] “无父子关系”</li></ul></blockquote> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">//泛型模板</span>
<span class="token comment">//class MyList&lt;T&gt;{}</span>
<span class="token comment">//不变</span>
<span class="token comment">//class MyList[T]{}</span>
<span class="token comment">//协变</span>
<span class="token keyword">class</span> MyList<span class="token punctuation">[</span><span class="token operator">+</span>T<span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">//逆变</span>
<span class="token comment">//class MyList[-T]{}</span>

<span class="token keyword">class</span> Parent<span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">class</span> Child <span class="token keyword">extends</span> Parent<span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">class</span> SubChild <span class="token keyword">extends</span> Child<span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">object</span> Scala_TestGeneric <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> s<span class="token operator">:</span>MyList<span class="token punctuation">[</span>Child<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> MyList<span class="token punctuation">[</span>SubChild<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_10-1-泛型上下限"><a href="#_10-1-泛型上下限" class="header-anchor">#</a> 10.1 泛型上下限</h3> <p>语法：</p> <ol><li><div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">class</span> PersonList<span class="token punctuation">[</span>T <span class="token operator">&lt;</span><span class="token operator">:</span> Parent<span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">class</span> PersonList<span class="token punctuation">[</span>T <span class="token operator">&gt;</span><span class="token operator">:</span> Parent<span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>​泛型的上下限的作用是对传入的泛型进行限定</p></blockquote></li></ol> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> Scala_TestGeneric <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> s<span class="token operator">:</span>MyList<span class="token punctuation">[</span>Child<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> MyList<span class="token punctuation">[</span>SubChild<span class="token punctuation">]</span>

    test<span class="token punctuation">(</span>classOf<span class="token punctuation">[</span>SubChild<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token comment">//test[Child](classOf[Child])</span>
    test<span class="token punctuation">[</span>Child<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">new</span> SubChild<span class="token punctuation">)</span>
    test<span class="token punctuation">(</span><span class="token keyword">new</span> SubChild<span class="token punctuation">)</span>

  <span class="token punctuation">}</span>

  <span class="token comment">//泛型通配符之上限</span>
<span class="token comment">//  def test[A &lt;: Child](a:Class[A]): Unit ={</span>
<span class="token comment">//    println(a)</span>
<span class="token comment">//  }</span>

  <span class="token comment">//泛型通配符之下限</span>
<span class="token comment">//  def test[A &gt;: Child](a:Class[A]): Unit ={</span>
<span class="token comment">//    println(a)</span>
<span class="token comment">//  }</span>

  <span class="token comment">//泛型通配符之下限 形式扩展</span>
  <span class="token keyword">def</span> test<span class="token punctuation">[</span>A <span class="token operator">&gt;</span><span class="token operator">:</span> Child<span class="token punctuation">]</span><span class="token punctuation">(</span>a<span class="token operator">:</span>A<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span><span class="token punctuation">{</span>
    println<span class="token punctuation">(</span>a<span class="token punctuation">.</span>getClass<span class="token punctuation">.</span>getName<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="_10-2-上下文限定"><a href="#_10-2-上下文限定" class="header-anchor">#</a> 10.2 上下文限定</h3> <p>语法：</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">def</span> f<span class="token punctuation">[</span>A<span class="token operator">:</span>B<span class="token punctuation">]</span><span class="token punctuation">(</span>a<span class="token operator">:</span> A<span class="token punctuation">)</span> <span class="token operator">=</span> println<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 等同于 def f[A](a:A)(implicit arg:B[A]) = println(a)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>​	上下文限定是将泛型和隐式转换的结合产物，以下两者功能相同，使用上下文限定 [A:Ordering]之后，方法内无法使用隐式参数名调用隐式参数，需要通过 implicitly [Ordering[A]] 获取隐式变量，如果此时无法查找到对应类型的隐式变量，会发生错误。</p></blockquote> <h2 id="_11-scala-掌握内容"><a href="#_11-scala-掌握内容" class="header-anchor">#</a> 11. Scala(掌握内容)</h2> <blockquote><ul><li>Scala开发环境搭建</li> <li>var 和 val 的区别：val修饰的是不可变的,var修饰是可变的
<ul><li>val修饰的变量在编译后类似于java中的中的变量被final修饰</li></ul></li> <li>数值类型（Byte、Short、Int、Long、Float、Double、Char）之间的转换关系</li> <li>if-else、for、while等必要的流程控制结构，掌握如何实现 break、continue 的功能</li> <li>高阶函数、匿名函数、函数柯里化、闭包、函数参数以及函数至简原则</li> <li>Scala 与 Java 继承方面的区别、单例对象（伴生对象）、构造方法、特质的用法及功能</li> <li>常用集合的使用、集合常用的计算函数</li> <li>模式匹配的用法</li> <li>下划线不同场合的不同用法</li> <li>异常常用操作</li> <li>隐式方法、隐式参数、隐式类，以及隐式解析机制</li> <li>泛型语法</li></ul></blockquote></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">6 months ago</span></div></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-70334359><li class="level-2" data-v-70334359><a href="/blogs/BigData/Scala.html#_1-scala-入门" class="sidebar-link reco-side-_1-scala-入门" data-v-70334359>1. Scala 入门</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_1-1-scala概述" class="sidebar-link reco-side-_1-1-scala概述" data-v-70334359>1.1 Scala概述</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_1-2-scala和java" class="sidebar-link reco-side-_1-2-scala和java" data-v-70334359>1.2 Scala和Java</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_1-3-scala环境搭建" class="sidebar-link reco-side-_1-3-scala环境搭建" data-v-70334359>1.3 Scala环境搭建</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_1-4-scala插件安装" class="sidebar-link reco-side-_1-4-scala插件安装" data-v-70334359>1.4 Scala插件安装</a></li><li class="level-2" data-v-70334359><a href="/blogs/BigData/Scala.html#_2-变量和数据类型" class="sidebar-link reco-side-_2-变量和数据类型" data-v-70334359>2. 变量和数据类型</a></li><li class="level-2" data-v-70334359><a href="/blogs/BigData/Scala.html#_3-流程控制" class="sidebar-link reco-side-_3-流程控制" data-v-70334359>3. 流程控制</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_3-1-循环控制" class="sidebar-link reco-side-_3-1-循环控制" data-v-70334359>3.1 循环控制</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_3-2-循环中断" class="sidebar-link reco-side-_3-2-循环中断" data-v-70334359>3.2 循环中断</a></li><li class="level-2" data-v-70334359><a href="/blogs/BigData/Scala.html#_4-函数式编程" class="sidebar-link reco-side-_4-函数式编程" data-v-70334359>4. 函数式编程</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_4-1-函数至简原则" class="sidebar-link reco-side-_4-1-函数至简原则" data-v-70334359>4.1 函数至简原则</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_4-2-匿名函数" class="sidebar-link reco-side-_4-2-匿名函数" data-v-70334359>4.2 匿名函数</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_4-3-高阶函数" class="sidebar-link reco-side-_4-3-高阶函数" data-v-70334359>4.3 高阶函数</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_4-4-函数柯里化-闭包" class="sidebar-link reco-side-_4-4-函数柯里化-闭包" data-v-70334359>4.4 函数柯里化&amp;闭包</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_4-5-递归" class="sidebar-link reco-side-_4-5-递归" data-v-70334359>4.5 递归</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_4-6-控制抽象" class="sidebar-link reco-side-_4-6-控制抽象" data-v-70334359>4.6 控制抽象</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_4-7-惰性函数" class="sidebar-link reco-side-_4-7-惰性函数" data-v-70334359>4.7 惰性函数</a></li><li class="level-2" data-v-70334359><a href="/blogs/BigData/Scala.html#_5-面向对象" class="sidebar-link reco-side-_5-面向对象" data-v-70334359>5. 面向对象</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_5-1-beanproperty来兼容javabean" class="sidebar-link reco-side-_5-1-beanproperty来兼容javabean" data-v-70334359>5.1 @BeanProperty来兼容JavaBean</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_5-2-访问权限" class="sidebar-link reco-side-_5-2-访问权限" data-v-70334359>5.2 访问权限</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_5-3-多态" class="sidebar-link reco-side-_5-3-多态" data-v-70334359>5.3 多态</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_5-4-构造器" class="sidebar-link reco-side-_5-4-构造器" data-v-70334359>5.4 构造器</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_5-5-构造器参数" class="sidebar-link reco-side-_5-5-构造器参数" data-v-70334359>5.5 构造器参数</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_5-6-继承" class="sidebar-link reco-side-_5-6-继承" data-v-70334359>5.6 继承</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_5-7-抽象属性-抽象方法" class="sidebar-link reco-side-_5-7-抽象属性-抽象方法" data-v-70334359>5.7 抽象属性/抽象方法</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_5-8-匿名子类" class="sidebar-link reco-side-_5-8-匿名子类" data-v-70334359>5.8 匿名子类</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_5-9-单例对象-伴生对象" class="sidebar-link reco-side-_5-9-单例对象-伴生对象" data-v-70334359>5.9 单例对象(伴生对象)</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_5-10-特质-trait" class="sidebar-link reco-side-_5-10-特质-trait" data-v-70334359>5.10 特质（Trait）</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_5-11-扩展-类型" class="sidebar-link reco-side-_5-11-扩展-类型" data-v-70334359>5.11 扩展（类型）</a></li><li class="level-2" data-v-70334359><a href="/blogs/BigData/Scala.html#_6-集合" class="sidebar-link reco-side-_6-集合" data-v-70334359>6. 集合</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_6-1-集合" class="sidebar-link reco-side-_6-1-集合" data-v-70334359>6.1 集合</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_6-2-数组" class="sidebar-link reco-side-_6-2-数组" data-v-70334359>6.2 数组</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_6-3-seq集合-list" class="sidebar-link reco-side-_6-3-seq集合-list" data-v-70334359>6.3 Seq集合(List)</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_6-4-set集合" class="sidebar-link reco-side-_6-4-set集合" data-v-70334359>6.4 Set集合</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_6-5-map集合" class="sidebar-link reco-side-_6-5-map集合" data-v-70334359>6.5 Map集合</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_6-6-元组" class="sidebar-link reco-side-_6-6-元组" data-v-70334359>6.6 元组</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_6-7-集合常用函数" class="sidebar-link reco-side-_6-7-集合常用函数" data-v-70334359>6.7 集合常用函数</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_6-8-队列" class="sidebar-link reco-side-_6-8-队列" data-v-70334359>6.8 队列</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_6-9-并行集合" class="sidebar-link reco-side-_6-9-并行集合" data-v-70334359>6.9 并行集合</a></li><li class="level-2" data-v-70334359><a href="/blogs/BigData/Scala.html#_7-模式匹配" class="sidebar-link reco-side-_7-模式匹配" data-v-70334359>7. 模式匹配</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_7-3-模式匹配类型" class="sidebar-link reco-side-_7-3-模式匹配类型" data-v-70334359>7.3 模式匹配类型</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_7-4-变量声明中的模式匹配" class="sidebar-link reco-side-_7-4-变量声明中的模式匹配" data-v-70334359>7.4 变量声明中的模式匹配</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_7-5-for表达式中的模式匹配" class="sidebar-link reco-side-_7-5-for表达式中的模式匹配" data-v-70334359>7.5 for表达式中的模式匹配</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_7-6-偏函数中的模式匹配" class="sidebar-link reco-side-_7-6-偏函数中的模式匹配" data-v-70334359>7.6 偏函数中的模式匹配</a></li><li class="level-2" data-v-70334359><a href="/blogs/BigData/Scala.html#_8-异常" class="sidebar-link reco-side-_8-异常" data-v-70334359>8. 异常</a></li><li class="level-2" data-v-70334359><a href="/blogs/BigData/Scala.html#_9-隐式转换" class="sidebar-link reco-side-_9-隐式转换" data-v-70334359>9. 隐式转换</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_9-1-隐式函数" class="sidebar-link reco-side-_9-1-隐式函数" data-v-70334359>9.1 隐式函数</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_9-2-隐式参数" class="sidebar-link reco-side-_9-2-隐式参数" data-v-70334359>9.2 隐式参数</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_9-3-隐式类" class="sidebar-link reco-side-_9-3-隐式类" data-v-70334359>9.3 隐式类</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_9-4-隐式解析机制" class="sidebar-link reco-side-_9-4-隐式解析机制" data-v-70334359>9.4 隐式解析机制</a></li><li class="level-2" data-v-70334359><a href="/blogs/BigData/Scala.html#_10-泛型" class="sidebar-link reco-side-_10-泛型" data-v-70334359>10. 泛型</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_10-1-泛型上下限" class="sidebar-link reco-side-_10-1-泛型上下限" data-v-70334359>10.1 泛型上下限</a></li><li class="level-3" data-v-70334359><a href="/blogs/BigData/Scala.html#_10-2-上下文限定" class="sidebar-link reco-side-_10-2-上下文限定" data-v-70334359>10.2 上下文限定</a></li><li class="level-2" data-v-70334359><a href="/blogs/BigData/Scala.html#_11-scala-掌握内容" class="sidebar-link reco-side-_11-scala-掌握内容" data-v-70334359>11. Scala(掌握内容)</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div></div><APlayer audio="" fixed="true" mini="true" theme="#f9bcdd" loop="loop" order="random" preload="auto" volume="0.3" mutex="true" lrc-type="0" list-folded="true" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer></div></div>
    <script src="/assets/js/app.03646987.js" defer></script><script src="/assets/js/3.a8134f0a.js" defer></script><script src="/assets/js/1.a394b090.js" defer></script><script src="/assets/js/41.3f331b95.js" defer></script>
  </body>
</html>
